import{r as s,c as t,h as a,a as i}from"./p-3b8a929f.js";const e=class{constructor(a){s(this,a),this.goToNextPage=t(this,"goToNextPage",7),this.gameOverEvent=t(this,"gameOverEvent",7),this.headerItems=[{icon:"home",label:"Tela Inicial",action:"home"},{icon:"map",label:"Mapa",action:"map"},{icon:"class",label:"Teoria",action:"theory"}],this.headerTitle={trainning:`Fase ${this.phase} - Treinamento`,challenge:`Fase ${this.phase} - Desafio`}}handleNav(s){"theory"===s.detail.action?this.showTheory():this.show=s.detail.action}handleNext(s){s.detail.result?this.goToNextPage.emit(String(this.next)):this.showTheory()}handleTrainning(){this.goToHome()}handleLabActionsValidate(s){"challenge"===this.show||"trainning"===this.show&&!["theory"].includes(s.detail.action)?(this.confirmation={action:s.detail.action},this.modalConfirm.showModal()):this.handleLabActions(s.detail.action)}handleMapActions(s){this.goToNextPage.emit(s.detail.url)}handleLabActions(s){switch(s){case"home":this.goToNextPage.emit("");break;case"theory":this.showTheory();break;case"map":this.show="map";const s=document.querySelector("yduqs-virtual-map");s&&window.setTimeout((()=>s.centralize()),100)}}handleNavConfirmation(){this.modalConfirm.hide(),"challenge"===this.show&&this.gameOverEvent.emit(),this.handleLabActions(this.confirmation.action)}showTheory(){this.modalTheory.showModal()}goToHome(){this.show="cover"}render(){return a(i,{class:`c-lab-phase showing-${this.show}`},a("div",{class:"c-lab-phase-header "+(["cover","map"].includes(this.show)?"floating":"")},a("slot",{name:"header"},a("yduqs-header-lab",{items:this.headerItems,title:this.headerTitle[this.show]||"Laboratório virtual"}))),a("div",{class:"slot c-lab-phase-cover "+("cover"===this.show?"show":"hide")},a("slot",{name:"cover"})),a("div",{class:"slot c-lab-phase-trainning "+("trainning"===this.show?"show":"hide")},a("slot",{name:"trainning"})),a("div",{class:"slot c-lab-phase-challenge "+("challenge"===this.show?"show":"hide")},a("slot",{name:"challenge"})),a("div",{class:"slot c-lab-phase-map "+("map"===this.show?"show":"hide")},a("slot",{name:"map"})),a("yduqs-modal",{ref:s=>this.modalTheory=s,id:`modal-theory-${this.phase}`,variant:"lab",size:"large"},a("slot",{name:"theory"})),a("yduqs-modal",{ref:s=>this.modalConfirm=s,id:`modal-confirm-${this.phase}`,variant:"lab",size:"small"},a("p",null,"Texto explicando que o progresso será perdido"),a("div",{style:{display:"flex"}},a("button",{type:"button",class:"c-button c-button--ghost u-text--small",onClick:()=>{this.modalConfirm.hide(),this.confirmation=null}},"Cancelar"),a("button",{type:"button",class:"c-button u-text--small",style:{marginLeft:"20px"},onClick:()=>this.handleNavConfirmation()},"Continuar"))))}};export{e as yduqs_lab_phase}