import{r as i,h as t,a as M}from"./p-3b8a929f.js";import{i as s}from"./p-dc634267.js";import{g as e,c as u,d as o}from"./p-8657a933.js";const a=class{constructor(t){i(this,t),this.open=!1,this.active=!1,this.countdown={break:0,forward:0},this.configOpen=!1,this.forwardKey="yduqs-mm-start-count",this.icons={water_glass:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN2Z193YXRlcl9nbGFzc19zdDB7ZmlsbDpjdXJyZW50Q29sb3I7fQ0KPC9zdHlsZT4NCjxwYXRoIGQ9Ik0yMi4xODgxIDE2LjI4NzFMMjAuODc4OSAxNS43OTYyTDI0Ljc3NDcgMi4wOTI1QzI0Ljg0MDggMS43OTQxMSAyNS4wMDQgMS41MjU1NSAyNS4yMzkxIDEuMzI4MTVDMjUuNDc0MyAxLjEzMDc1IDI1Ljc2ODMgMS4wMTU0NSAyNi4wNzU5IDFIMzAuNzc4MVYyLjU4MzMzSDI2LjA3NTlMMjIuMTg4MSAxNi4yODcxWiIgZmlsbD0iIzQyNDk1MyIvPg0KPHBhdGggZD0iTTI2LjE1NTkgMzkuMkgyNi4xNTU5QzI2Ljc5MjYgMzkuMTk5OCAyNy40MDczIDM4Ljk2NzQgMjcuODgyOCAzOC41NDY1QzI4LjM1ODIgMzguMTI1NiAyOC42NjEyIDM3LjU0NTcgMjguNzMzNiAzNi45MTdMMjguNzMzNiAzNi45MTY3TDMxLjk5ODcgOC4xNDc1NUwzMi4wMjQgNy45MjVIMzEuOEg5SDguNzc2MTRMOC44MDEyNiA4LjE0NzQ1TDEyLjA1MDQgMzYuOTE2NkwxMi4wNTA1IDM2LjkxN0MxMi4xMjMxIDM3LjU0ODYgMTIuNDI4NiAzOC4xMzEgMTIuOTA3NyAzOC41NTIzQzEzLjM4NjYgMzguOTczMyAxNC4wMDUxIDM5LjIwMzggMTQuNjQ0NSAzOS4ySDI2LjE1NTlaTTE0LjA3NjQgMzYuNjg5NUwxMS4wNDQxIDkuOTA4MzNIMjkuNzk2TDI2Ljc4NzQgMzYuNjg5N0wyNi43ODc0IDM2LjY4OTlDMjYuNzcxMiAzNi44MzQ4IDI2LjcwMTQgMzYuOTY5IDI2LjU5MTEgMzcuMDY2NEMyNi40ODA2IDM3LjE2MzkgMjYuMzM3NCAzNy4yMTc1IDI2LjE4OSAzNy4yMTY2SDI2LjE4NzhMMTQuNjc2IDM3LjIxNjZMMTQuNjc0OCAzNy4yMTY2QzE0LjUyNjQgMzcuMjE3NSAxNC4zODMyIDM3LjE2MzkgMTQuMjcyOCAzNy4wNjY0QzE0LjE2MjQgMzYuOTY5IDE0LjA5MjcgMzYuODM0OCAxNC4wNzY1IDM2LjY4OTlMMTQuMDc2NCAzNi42ODk1WiIgIGNsYXNzPSJzdmdfd2F0ZXJfZ2xhc3Nfc3QwIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIwLjQiLz4NCjxwYXRoIGQ9Ik0yMy40NzM1IDI5LjE4MzFWMjguOTgzMUgyMy4yNzM1SDIxLjY3NjlIMjEuNDc2OVYyOS4xODMxVjMwLjc2NjRWMzAuOTY2NEgyMS42NzY5SDIzLjI3MzVIMjMuNDczNVYzMC43NjY0VjI5LjE4MzFaIiAgY2xhc3M9InN2Z193YXRlcl9nbGFzc19zdDAiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjAuNCIvPg0KPHBhdGggZD0iTTE3LjQwNzEgMjQuNzVWMjQuNTVIMTcuMjA3MUgxNS42MTA1SDE1LjQxMDVWMjQuNzVWMjYuMzMzM1YyNi41MzMzSDE1LjYxMDVIMTcuMjA3MUgxNy40MDcxVjI2LjMzMzNWMjQuNzVaIiAgY2xhc3M9InN2Z193YXRlcl9nbGFzc19zdDAiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjAuNCIvPg0KPHBhdGggZD0iTTI2LjE4ODUgMjAuNzkzVjIwLjU5M0gyNS45ODg1SDI0LjM5MThIMjQuMTkxOFYyMC43OTNWMjIuMzc2M1YyMi41NzYzSDI0LjM5MThIMjUuOTg4NUgyNi4xODg1VjIyLjM3NjNWMjAuNzkzWiIgIGNsYXNzPSJzdmdfd2F0ZXJfZ2xhc3Nfc3QwIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIwLjQiLz4NCjxwYXRoIGQ9Ik0xMC43MDAzIDE1LjA1SDEwLjUwMDNWMTUuMjVWMTYuODMzM1YxNy4wMzMzSDEwLjcwMDNIMzAuMDk5NUgzMC4yOTk1VjE2LjgzMzNWMTUuMjVWMTUuMDVIMzAuMDk5NUgxMC43MDAzWiIgIGNsYXNzPSJzdmdfd2F0ZXJfZ2xhc3Nfc3QwIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIwLjQiLz4NCjwvc3ZnPg0K",tea_cup:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyNi4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FtYWRhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDAgNDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwIDQwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpjdXJyZW50Q29sb3I7c3Ryb2tlOmN1cnJlbnRDb2xvcjtzdHJva2Utd2lkdGg6MC41O30NCgkuc3Qxe2ZpbGw6IzQyNDk1Mzt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTM0LjksMzQuOHYtMC4xaC0wLjFIMi45SDIuOHYwLjF2MS41djAuMWgwLjFoMzEuOWgwLjF2LTAuMVYzNC44eiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTMwLjYsMjcuM3YwLjFoMC4xaDIuNmMxLDAsMi0wLjQsMi44LTEuMmMwLjctMC43LDEuMi0xLjcsMS4yLTIuOGMwLTEtMC40LTItMS4yLTIuOGMtMC43LTAuNy0xLjctMS4yLTIuOC0xLjINCgloLTEuN2gtMC4xdjAuMXYxLjV2MC4xaDAuMWgxLjdjMC42LDAsMS4xLDAuMiwxLjUsMC42YzAuNCwwLjQsMC42LDAuOSwwLjYsMS41cy0wLjIsMS4xLTAuNiwxLjVjLTAuNCwwLjQtMC45LDAuNi0xLjUsMC42aC0yLjYNCgloLTAuMXYwLjFWMjcuM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNSwzNi40djAuMWgwLjFjMS4yLDAsMi4zLTAuNywzLjItMS44YzAuOS0xLjIsMS43LTIuOCwyLjMtNC43YzEuMy0zLjksMi05LDEuOS0xNC4xdi0wLjhWMTVoLTAuMUg1LjJINS4xDQoJdjAuMXYwLjhjMCw1LDAuNywxMC4yLDIsMTQuMWMwLjYsMS45LDEuNCwzLjYsMi4zLDQuN2MwLjksMS4yLDIsMS44LDMuMiwxLjhoMC4xdi0wLjF2LTEuNXYtMC4xaC0wLjFjLTAuNiwwLTEuMy0wLjQtMS45LTEuMw0KCWMtMC42LTAuOS0xLjMtMi4yLTEuOC0zLjhDNy43LDI2LjQsNywyMS45LDYuOSwxNi44aDI0Yy0wLjEsNS4yLTAuOSw5LjYtMS45LDEyLjhjLTAuNSwxLjYtMS4yLDIuOS0xLjgsMy44DQoJYy0wLjcsMC45LTEuMywxLjMtMS45LDEuM0gyNXYwLjFWMzYuNHoiLz4NCjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNi42LDEzLjZjLTAuNSwwLTEuMS0wLjEtMS41LTAuNGMtMC41LTAuMy0wLjgtMC43LTEuMS0xLjFjLTAuMy0wLjUtMC40LTEtMC40LTEuNWMwLTAuNSwwLjEtMS4xLDAuNC0xLjUNCglsMC45LTEuNWMwLjEtMC4yLDAuMi0wLjUsMC4yLTAuOGMwLTAuNC0wLjItMC44LTAuNC0xLjFjLTAuMy0wLjMtMC43LTAuNC0xLjEtMC40VjMuN2MwLjUsMCwxLjEsMC4xLDEuNSwwLjQNCgljMC41LDAuMywwLjgsMC43LDEuMSwxLjFjMC4zLDAuNSwwLjQsMSwwLjQsMS41YzAsMC41LTAuMSwxLjEtMC40LDEuNWwtMC45LDEuNWMtMC4xLDAuMi0wLjIsMC41LTAuMiwwLjhjMCwwLjQsMC4yLDAuOCwwLjQsMS4xDQoJYzAuMywwLjMsMC43LDAuNCwxLjEsMC40VjEzLjZ6Ii8+DQo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjIuNywxMy42Yy0wLjUsMC0xLjEtMC4xLTEuNS0wLjRjLTAuNS0wLjMtMC44LTAuNy0xLjEtMS4xYy0wLjMtMC41LTAuNC0xLTAuNC0xLjVjMC0wLjUsMC4xLTEuMSwwLjQtMS41DQoJbDAuOS0xLjVjMC4xLTAuMiwwLjItMC41LDAuMi0wLjhjMC0wLjQtMC4yLTAuOC0wLjQtMS4xYy0wLjMtMC4zLTAuNy0wLjQtMS4xLTAuNFYzLjdjMC41LDAsMS4xLDAuMSwxLjUsMC40DQoJYzAuNSwwLjMsMC44LDAuNywxLjEsMS4xYzAuMywwLjUsMC40LDEsMC40LDEuNWMwLDAuNS0wLjEsMS4xLTAuNCwxLjVsLTAuOSwxLjVjLTAuMSwwLjItMC4yLDAuNS0wLjIsMC44YzAsMC40LDAuMiwwLjgsMC40LDEuMQ0KCXMwLjcsMC40LDEuMSwwLjRWMTMuNnoiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xOC4xLDI5LjdoMC4xdi0wLjF2LTYuMXYtMC4xbDAsMGwtMy44LTMuNmwtMC4xLTAuMWwtMC4xLDAuMWwtMy44LDMuNmwwLDB2MC4xdjYuMXYwLjFoMC4xSDE4LjF6IE0xNi40LDI0LjENCgl2My43aC00LjN2LTMuN2wyLjEtMkwxNi40LDI0LjF6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTUuMiwxNS45di0wLjFoLTAuMWgtMS41aC0wLjF2MC4xdjV2MC4xaDAuMWgxLjVoMC4xdi0wLjFWMTUuOXoiLz4NCjwvc3ZnPg0K",flag:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyNi4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FtYWRhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAwIDEwMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3ZnX2ZsYWdfc3Qwe2ZpbGw6Y3VycmVudENvbG9yO30NCgkuc3ZnX2ZsYWdfc3Qxe2ZpbGw6IzJDMTEwMzt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN2Z19mbGFnX3N0MCIgZD0iTTgyLjIsODMuM0w1Mi43LDMzTDM2LjcsNjAuNWwwLDBsMCwwTDIzLjUsODMuM0g4Mi4yeiBNMjcuMyw4MS4xbDExLjEtMTkuMmw2LjMtNS4ybDYuMSw2LjhsMTAtNS43bDYuNSw0LjUNCglsMTEuMSwxOC44SDI3LjN6IE01Mi43LDM3LjRsMTIsMjAuNEw2MSw1NS4ybC05LjYsNS41bC02LjQtN2wtMy40LDIuOEw1Mi43LDM3LjRMNTIuNywzNy40eiIvPg0KPHBhdGggY2xhc3M9InN2Z19mbGFnX3N0MCIgZD0iTTc2LjIsNTkuNGwxMi41LDIxLjJoLTYuMmwxLDEuNmwwLjMsMC42aDguOEw3Ni4yLDU1bC00LjQsNy41bDEuMywyLjJMNzYuMiw1OS40eiIvPg0KPHBhdGggY2xhc3M9InN2Z19mbGFnX3N0MCIgZD0iTTIzLjcsODAuNUgxMS4zbDkuMi0xNS45bDIuNSwyLjdsOS4xLTcuNmwxLjgsMy4xbDEuMy0yLjJsLTcuNS0xMi44TDcuNSw4Mi43aDE0LjlsMC4zLTAuNkwyMy43LDgwLjV6DQoJIE0yNy43LDUyLjNsMy4zLDUuNmwtNy44LDYuNWwtMS41LTEuN0wyNy43LDUyLjNMMjcuNyw1Mi4zeiIvPg0KPHBhdGggY2xhc3M9InN0MSIgZD0iTTM2LjYsMTZsMy40LDYuOGwtMy40LDYuOGgxNS4ydjQuOEg1NFYxNkgzNi42eiBNNDAuMiwyNy4zbDIuMy00LjZsLTIuMy00LjZoMTEuNnY5LjFINDAuMnoiLz4NCjwvc3ZnPg0K",thumb_up:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FtYWRhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzEgMzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMxIDMxOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdmdfdGh1bWJfc3Qwe2ZpbGw6Y3VycmVudENvbG9yO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3ZnX3RodW1iX3N0MCIgZD0iTTMuMDM3MzUgMjUuMTA4OEg1LjU0NTMyQzYuMjM1IDI1LjEwODggNi43OTkzIDI0LjU0NDUgNi43OTkzIDIzLjg1NDhWMTIuNTY5QzYuNzk5MyAxMS44NzkzIDYuMjM1IDExLjMxNSA1LjU0NTMyIDExLjMxNUgzLjAzNzM1TDMuMDM3MzUgMjUuMTA4OFpNMjcuOTAzOCAxNi4xODA0QzI4LjA0MTcgMTUuODY2OSAyOC4xMTcgMTUuNTI4NCAyOC4xMTcgMTUuMTc3MlYxMy44MjI5QzI4LjExNyAxMi40NDM2IDI2Ljk4ODQgMTEuMzE1IDI1LjYwOSAxMS4zMTVIMTguNzEyMUwxOS44NjU4IDUuNDgzOTZDMTkuOTI4NSA1LjIwODA5IDE5Ljg5MDkgNC45MDcxMyAxOS43NjU1IDQuNjU2MzRDMTkuNDc3IDQuMDkyMDUgMTkuMTEzNCAzLjU3NzkxIDE4LjY2MiAzLjEyNjQ4TDE4LjA4NTEgMi41MzcxMUwxMC4wNDcxIDEwLjU3NTFDOS41NzA1OSAxMS4wNTE2IDkuMzA3MjYgMTEuNjkxMiA5LjMwNzI2IDEyLjM1NThWMjIuMTg3QzkuMzA3MjYgMjMuNzkyMSAxMC42MjM5IDI1LjEwODggMTIuMjQxNiAyNS4xMDg4SDIyLjQxMTRDMjMuMjg5MSAyNS4xMDg4IDI0LjExNjggMjQuNjQ0OCAyNC41NjgyIDIzLjg5MjRMMjcuOTAzOCAxNi4xODA0VjE2LjE4MDRaIiAvPg0KPC9zdmc+DQo="}}handleCloseAlert(){this._hideMessage(),this._generateIntervals()}handleCloseConfirm(){this._hideMessage(),this._generateIntervals()}handleCloseInfo(){this._hideMessage(),this._generateIntervals()}handleCloseToast(){this._hideMessage(),this._generateForwardIntervals()}isMobile(){return window.innerWidth<=578}_generateForwardIntervals(){this.forwardInterval=(new Date).getTime()+1e3*(180+e(1,60))}_generateIntervals(){this._generateForwardIntervals()}handleVisibility(){document.hidden?this._stopCount():this._startCount()}handleOpen(){this.open=Boolean(this.message)}_setMessage(i){this.message=i}_getIcon(i){switch(i){case"toast":return"thumb_up";case"confirm":case"info":return"flag";default:return}}_showMessage(i){let t,M;this.forwardInterval=null,"toast"===i?(t=8,M="forward"):"alert"===i?(t=5,M="break",this.breakInterval=null):"confirm"!==i&&"info"!==i||(t=0,M="conclusion");const u=e(0,t);this._setMessage({type:i,disclaimer:s(`motivationalMsg.${M}.${u}.disclaimer`)||void 0,icon:this.icons[s(`motivationalMsg.${M}.${u}.icon`)]||this.icons[this._getIcon(i)],title:s(`motivationalMsg.${M}.${u}.title`)||void 0,message:s(`motivationalMsg.${M}.${u}.message`)})}_hideMessage(){this.open=!1,window.setTimeout((()=>{this._setMessage(null)}),1e3)}_setActivateTime(){window.localStorage.setItem(this.forwardKey,String((new Date).getTime()))}_setInactivateTime(){window.localStorage.removeItem(this.forwardKey)}_triggerMessages(){document.hidden||this.open||(Boolean(this.forwardInterval)&&this.forwardInterval<=(new Date).getTime()?this._showMessage("toast"):Boolean(this.breakInterval)&&(new Date).getTime())}_startCount(){this._generateIntervals(),this._setActivateTime(),this.looper&&clearInterval(this.looper),this.looper=setInterval((()=>{this.countdown={break:((this.breakInterval-(new Date).getTime())/1e3).toFixed(),forward:((this.forwardInterval-(new Date).getTime())/1e3).toFixed()},this._triggerMessages()}),1e3)}_stopCount(){this._setInactivateTime(),this.forwardInterval=null,this.looper&&clearInterval(this.looper)}componentDidLoad(){document.addEventListener("visibilitychange",(()=>{this.handleVisibility()})),this._startCount(),$("body").on("click","yduqs-questions[question_id] button[question-reference]",(i=>{const t=$(i.target),M=$(t.closest(`div.question-block[question-reference="${t.attr("question-reference")}"]`)[0]),s=$(M.closest("yduqs-questions")[0]),e=$(s.closest("module")[0]),o=$(M).find("div.question-negative-feedback"),a=u(document.title).replace(/ +/g,""),L=e.attr("id"),d=[];s.find("yduqs-questions-body").children("div.question-block").each((function(){d.push($(this).attr("question-reference"))}));const j=t.attr("question-reference"),n=`${a}-${L}`,N=localStorage.getItem(n)?JSON.parse(localStorage.getItem(n)):{questions:d.map((i=>({reference:i,answered:!1})))};if(M.is(".answered")&&o.is(".d-none")&&N.questions.filter((i=>!i.answered)).length>0){const i=N.questions.findIndex((i=>i.reference===j));N.questions[i].answered=!0,0===N.questions.filter((i=>!i.answered)).length&&(this.isMobile()?this._showMessage("confirm"):this._showMessage("info"))}localStorage.setItem(n,JSON.stringify(N))}))}render(){var i,e,u,o,a,L,d,j,n,N,c,l,g,w,D,I,h,y,z,r,T;return t(M,null,t("yduqs-alert",{usematerial:!Boolean(null===(i=this.message)||void 0===i?void 0:i.icon),icon:(null===(e=this.message)||void 0===e?void 0:e.icon)||"info",title:(null===(u=this.message)||void 0===u?void 0:u.disclaimer)||void 0,subtitle:(null===(o=this.message)||void 0===o?void 0:o.title)||void 0,message:null===(a=this.message)||void 0===a?void 0:a.message,btntext:s("globals.continuar"),open:this.open&&Boolean("alert"===(null===(L=this.message)||void 0===L?void 0:L.type))}),t("yduqs-confirm",{usematerial:!Boolean(null===(d=this.message)||void 0===d?void 0:d.icon),icon:(null===(j=this.message)||void 0===j?void 0:j.icon)||"info",title:s("motivationalMsg.conclusion.disclaimer"),subtitle:(null===(n=this.message)||void 0===n?void 0:n.title)||void 0,message:null===(N=this.message)||void 0===N?void 0:N.message,btntext:s("motivationalMsg.conclusion.action"),open:this.open&&Boolean("confirm"===(null===(c=this.message)||void 0===c?void 0:c.type))}),t("yduqs-info",{usematerial:!Boolean(null===(l=this.message)||void 0===l?void 0:l.icon),icon:(null===(g=this.message)||void 0===g?void 0:g.icon)||"info",title:s("motivationalMsg.conclusion.disclaimer"),subtitle:(null===(w=this.message)||void 0===w?void 0:w.title)||void 0,message:null===(D=this.message)||void 0===D?void 0:D.message,open:this.open&&Boolean("info"===(null===(I=this.message)||void 0===I?void 0:I.type))}),t("yduqs-toast",{usematerial:!Boolean(null===(h=this.message)||void 0===h?void 0:h.icon),icon:(null===(y=this.message)||void 0===y?void 0:y.icon)||"info",message:null===(z=this.message)||void 0===z?void 0:z.message,tit:null===(r=this.message)||void 0===r?void 0:r.title,open:this.open&&Boolean("toast"===(null===(T=this.message)||void 0===T?void 0:T.type))}))}static get watchers(){return{message:["handleOpen"]}}},L=class{constructor(t){i(this,t),this.hideCssClass="c-pager-hide",this.attrSelectorPage="data-page",this.attrSelectorModule="data-module",this.attrSelectorLabel="data-label",this.starterPageIndex=1,this.theme=u(document.title).replace(/ +/g,""),this.localStorageKey=`${this.theme}-last-viewed-page`,this.total=0,this.current=0}isActive(){return window.innerWidth<=3e3}getTexts(i){return s(`pager.${i}`)}_getModulePagination(i,t,M){let s=[];const e=Boolean(null==M?void 0:M.length),u=document.querySelectorAll(e?`[${this.attrSelectorModule}="${i}"][${this.attrSelectorLabel}="${M}"]`:`[${this.attrSelectorModule}="${i}"]:not([${this.attrSelectorLabel}])`);return null==u||u.forEach((i=>{const t=i.getAttribute(this.attrSelectorPage);s.includes(t)||s.push(Number(t))})),s.sort(((i,t)=>i>t?1:i<t?-1:0)),{total:s.length-(e?0:1),atual:s.findIndex((i=>i===t))+(e?1:0)}}_getLabelModule(i,M){return t("div",{class:"c-pager-label-module","data-cy":`${i}-${M}`},t("span",{class:"c-pager-label-module-text","data-cy":i},i),Boolean(null==M?void 0:M.length)&&t("span",{class:"c-pager-label-module-count","data-cy":M},M))}_getLabel(){const i=$(`[${this.attrSelectorPage}="${this.current}"]`),M=i.attr(this.attrSelectorModule),s=i.attr(this.attrSelectorLabel);let e;if(isNaN(Number(M)))e=t("div",{class:"c-pager-label-container","data-cy":M},this._getLabelModule(this.getTexts(M)));else{const u=this._getModulePagination(Number(M),this.current,s);e="YDUQS-MODULE-COVER"===i.get(0).tagName?t("div",{class:"c-pager-label-container","data-cy":M},this._getLabelModule(this.getTexts("modulo"),M)):t("div",{class:"c-pager-label-container","data-cy":s},t("div",{class:"c-pager-label-page"},t("span",{class:"c-pager-label-page-text","data-cy":`label ${s}`},this.getTexts(s||"conceito")),t("span",{class:"c-pager-label-page-count"},t("strong",{"data-cy":"count-atual"},u.atual)," / ",t("strong",{"data-cy":"count-total"},u.total))),t("div",{class:"c-pager-label-separator"},"|"),this._getLabelModule(this.getTexts("modulo"),M))}return e}_prepareVideoPlayers(){$("yduqs-video-player iframe").each((function(){$(this).attr("set-src",$(this).attr("src"))}))}_setCurrentVideosSrc(){let i;i=this.isActive()?$(`[${this.attrSelectorPage}="${this._getCurrentPage()}"]`).find("yduqs-video-player iframe"):$("yduqs-video-player iframe"),i.each((function(){Boolean($(this).attr("src"))||$(this).attr("src",$(this).attr("set-src"))}))}_stopUncurrentVideos(){this.isActive()&&$(`[${this.attrSelectorPage}]:not([${this.attrSelectorPage}="${this._getCurrentPage()}"])`).find("yduqs-video-player iframe").each((function(){$(this).removeAttr("src")}))}_handleVideoPlayers(){this._stopUncurrentVideos(),this._setCurrentVideosSrc()}handleWindowResize(){this._handleVideoPlayers()}_goToPage(){this._resetHash(),$(`[${this.attrSelectorPage}]`).addClass(this.hideCssClass),$(`[${this.attrSelectorPage}="${this._getCurrentPage()}"]`).removeClass(this.hideCssClass),this._getCurrentPage()<=this.starterPageIndex?this.btnPrev.disabled=!0:this.btnPrev.removeAttribute("disabled"),this._getCurrentPage()>=this.total?this.btnNext.disabled=!0:this.btnNext.removeAttribute("disabled"),this._handleVideoPlayers(),window.localStorage.setItem(this.localStorageKey,`${this.current}`)}_setCurrentPage(i){const t=i<this.starterPageIndex?this.starterPageIndex:i>this.total?this.total:i;o("yduqs-pager-before-change",{from:this.current,to:t,total:this.total}),this.current=t}_getCurrentPage(){return this.current}_init(){this._prepareVideoPlayers();const i=document.querySelectorAll(`[${this.attrSelectorPage}]`);let t=0;null==i||i.forEach((i=>{const M=Number(i.getAttribute(this.attrSelectorPage));t=t<M?M:t})),this.total=t;const M=window.localStorage.getItem(this.localStorageKey);M&&!isNaN(Number(M))?this._setCurrentPage(Number(M)):this._setCurrentPage(this.starterPageIndex)}_goToPrev(){window.scrollTo(0,0),this._setCurrentPage(this._getCurrentPage()-1)}_goToNext(){window.scrollTo(0,0),this._setCurrentPage(this._getCurrentPage()+1)}_getPageFromElement(i){var t,M,s,e,u;const o=(null==i?void 0:i.length)>1&&$(i);let a;return o.attr(this.attrSelectorPage)?a=o.attr(this.attrSelectorPage):(null===(t=o.children(`[${this.attrSelectorPage}]`))||void 0===t?void 0:t.length)>0&&o.children(`[${this.attrSelectorPage}]`).eq(0)?a=null===(s=null===(M=o.children(`[${this.attrSelectorPage}]`))||void 0===M?void 0:M.eq(0))||void 0===s?void 0:s.attr(this.attrSelectorPage):o.closest(`[${this.attrSelectorPage}]`)?a=null===(e=o.closest(`[${this.attrSelectorPage}]`))||void 0===e?void 0:e.attr(this.attrSelectorPage):o.next(`[${this.attrSelectorPage}]`).length>0&&(a=null===(u=o.next(`[${this.attrSelectorPage}]`))||void 0===u?void 0:u.attr(this.attrSelectorPage)),a}_resetHash(){const i=window.location.hash;if((null==i?void 0:i.length)>1){const t=this._getPageFromElement(i),M=this._getCurrentPage();Number(t)!==M&&(window.location.hash="")}}clickMenuTitleHandler(i){var t;window.scrollTo(0,0),this._setCurrentPage(parseInt(null===(t=i.detail.closest(`[${this.attrSelectorPage}]`))||void 0===t?void 0:t.getAttribute(this.attrSelectorPage)))}componentWillLoad(){$(".auto-pager").each((function(i){let t=$(this).closest("module").attr("id");if("apresentacao"==t?$(this).attr("data-module","introducao"):"modulo1"==t?$(this).attr("data-module","1"):"modulo2"==t?$(this).attr("data-module","2"):"modulo3"==t?$(this).attr("data-module","3"):"modulo4"==t&&$(this).attr("data-module","4"),$(this).attr("data-page",i),$(this).find("c-cover").length>0&&($(this).attr("data-module","introducao"),$(this).attr("data-page","0")),$(this).closest("header").find("yduqs-cover").length>0&&($(this).attr("data-module","introducao"),$(this).attr("data-page",1)),$(this).find("module#apresentacao").length>0&&$(this).attr("data-module","apresentacao"),$(this).find('yduqs-module-video[title_gallery*="Vem que eu te explico"]').length>0&&$(this).attr("data-label","teexplico"),$(this).find("yduqs-questions").length>0&&$(this).attr("data-label","atividade"),$(this).find('yduqs-title[topic_title="Atividade discursiva"]').length>0&&$(this).attr("data-label","atividade"),$(this).find("yduqs-teoria").length>0&&$(this).attr("data-label","atividade"),$(this).closest("module#conclusao").length>0&&$(this).attr("data-module","conclusao"),$(this).find("module#conclusao").length>0&&$(this).attr("data-module","conclusao"),$(this).closest("footer").length>0&&$(this).attr("data-page",i-1),$(this).closest("footer").find("yduqs-footer").length>0){let i=$("[data-module=conclusao").attr("data-page");$(this).attr("data-page",i),$(this).attr("data-module","conclusao")}}))}componentDidLoad(){window.addEventListener("yduqs-search-before-navigate",(i=>{var t;this._setCurrentPage(Number((null===(t=i.detail)||void 0===t?void 0:t.page)||this.starterPageIndex))})),window.addEventListener("hashchange",(()=>{var i;const t=(null===(i=window.location.hash)||void 0===i?void 0:i.length)>1&&window.location.hash;if(t){let i=this._getPageFromElement(t);i&&this._setCurrentPage(parseInt(i))}})),$("body").on("click",'a[href^="#"]',(i=>{var t;i.preventDefault();const M=null===(t=i.currentTarget.href)||void 0===t?void 0:t.substring(i.currentTarget.href.indexOf("#"),i.currentTarget.href.length);if(M){let i=this._getPageFromElement(M);i&&this._setCurrentPage(parseInt(i))}window.location.hash==M?window.scrollTo(0,$(window.location.hash).offset().top):window.location.hash=M})),this._init()}render(){return t(M,null,t("div",{class:"c-pager "+(this.total<=1?"c-pager-none":""),id:"btnPaginator"},t("button",{"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"paginacao:conteudo-clique-botao","data-gtm-event-label":"voltar",disabled:!0,type:"button",class:"c-button c-button__icon-container c-button__icon-square","data-cy":"btn-prev",ref:i=>this.btnPrev=i,onClick:()=>this._goToPrev()},t("span",{class:"c-button__icon material-icons"},"arrow_back")),this._getLabel(),t("button",{"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"paginacao:conteudo-clique-botao","data-gtm-event-label":"avancar",type:"button",class:"c-button c-button__icon-container c-button__icon-square","data-cy":"btn-next",ref:i=>this.btnNext=i,onClick:()=>this._goToNext()},t("span",{class:"c-button__icon material-icons"},"arrow_forward"))))}static get watchers(){return{current:["_goToPage"]}}};export{a as yduqs_motivational_messages,L as yduqs_pager}