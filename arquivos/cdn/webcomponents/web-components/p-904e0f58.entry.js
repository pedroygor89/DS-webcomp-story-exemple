import{r as e,h as t,a,g as s}from"./p-3b8a929f.js";const i=class{constructor(t){e(this,t),this.title_formula="",this.formula="",this.outlined=!1,this.rotate_info=!1,this.equal_height=!1}calcula_space(e){setTimeout((function(){var t=0,a=e.querySelector(".c-caixa-formula mjx-container mjx-math"),s=e.getBoundingClientRect().width;if(a){let i=a.querySelectorAll(":scope > *");i.length>0&&i.forEach((i=>{if(t+=i.getBoundingClientRect().width,s-200<t)if(t=0,"MJX-MO"==a.tagName)i.insertAdjacentHTML("afterend","<p/><p/>");else if("MJX-MTABLE"==i.tagName){let t=0,a=i.querySelectorAll("mjx-table mjx-itable mjx-mtr mjx-mtd"),s=e.getBoundingClientRect().width;i.style.minWidth="auto",a.forEach((e=>{let a=e.querySelectorAll(":scope > *");a.length>0&&a.forEach((e=>{t+=e.getBoundingClientRect().width,s<t&&(t=0,e.insertAdjacentHTML("MJX-MO"==i.tagName?"afterend":"beforebegin","<p/>"))}))}))}else i.insertAdjacentHTML("beforebegin","<p/><p/>")}))}}),3e3)}reloadScriptComponent(e){setTimeout((function(){var t=0,a=e.querySelector(".c-caixa-formula mjx-container mjx-math"),s=e.getBoundingClientRect().width;if(a){let i=a.querySelectorAll(":scope > *");i.length>0&&(i.forEach((e=>{"P"==e.tagName&&e.parentNode.removeChild(e)})),i.forEach((i=>{if(t+=i.getBoundingClientRect().width,s-200<t)if(t=0,"MJX-MO"==a.tagName)i.insertAdjacentHTML("afterend","<p/><p/>");else if("MJX-MTABLE"==i.tagName){let t=0,a=i.querySelectorAll("mjx-table mjx-itable mjx-mtr mjx-mtd"),s=e.getBoundingClientRect().width;i.style.minWidth="auto",a.forEach((e=>{let a=e.querySelectorAll(":scope > *");a.length>0&&a.forEach((e=>{t+=e.getBoundingClientRect().width,s<t&&(t=0,"MJX-MO"==i.tagName?e.insertAdjacentHTML("afterend",'<p class="innerbreakformend"/>'):e.insertAdjacentHTML("beforebegin",'<p class="innerbreakformbegin"/>'))}))}))}else i.insertAdjacentHTML("beforebegin","<p/><p/>");else if(t=0,"MJX-MTABLE"==i.tagName){let e=i.querySelectorAll("mjx-table mjx-itable mjx-mtr mjx-mtd");i.style.minWidth="auto",e.forEach((e=>{let t=e.querySelectorAll(":scope > *");t.length>0&&t.forEach((e=>{"P"==e.tagName&&e.parentNode.removeChild(e)}))}))}else{let e=i.querySelectorAll(":scope > *");e.length>0&&e.forEach((e=>{"P"==e.tagName&&e.parentNode.removeChild(e)}))}})))}}),3e3)}componentDidLoad(){var e=this.element;this.calcula_space(e),window.addEventListener("resize",(()=>{this.reloadScriptComponent(e)})),window.addEventListener("yduqs-pager-before-change",(()=>{this.reloadScriptComponent(e)}))}componentDidRender(){var e;let t=this.element.querySelector(".c-paragraph").innerHTML.includes("$$"),a=null===(e=window)||void 0===e?void 0:e.MathJax;if(t){const e=setInterval((function(t){try{a.typeset(t),clearInterval(e)}catch(e){}}),250)}}render(){const e=this.dark?"dark":this.outlined?"outline":"light";this.outlined=!1;const s=this.equal_height?"h-100":"";return t(a,{class:s},t("div",{class:"c-caixa-formula "+s},t("div",{class:`${e} ${s}`},t("div",{class:"d-flex align-items-center justify-content-center"},t("yduqs-tag",{color:this.dark?"aaaaa":"",innerHTML:this.title_formula})),t("yduqs-card",{dark:this.dark,outlined:this.outlined,class:`c-table ${s}`},t("p",{innerHTML:this.formula,class:"c-paragraph"}),t("div",{class:"d-flex align-items-center justify-content-center"},t("slot",null)),t("div",{class:"legend-rotate"},t("span",null,"Rotacione a tela. "),t("span",{class:"material-icons"},"screen_rotation"))))))}get element(){return s(this)}};export{i as yduqs_caixa_formula}