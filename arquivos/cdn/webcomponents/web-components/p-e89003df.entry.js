import{r as t,c as s,h as i,a as h}from"./p-3b8a929f.js";const n=class{constructor(i){t(this,i),this.countdownFinished=s(this,"countdownFinished",7),this.countdownDanger=s(this,"countdownDanger",7),this.countdownWarning=s(this,"countdownWarning",7),this.warningMarker=20,this.dangerMarker=this.warningMarker/2,this.number=this.time,this.paused=!1}async start(){return this.paused=!1,this.interval||(this.interval=window.setInterval((()=>{this.paused||(this.number-=1,this.inDanger()?this.countdownDanger.emit(this._id):this.inWarning()&&this.countdownWarning.emit(this._id)),this.number<=0&&!this.paused&&(this.pause(),this.countdownFinished.emit(this._id))}),1e3)),Promise.resolve(!0)}async stop(){return window.clearInterval(this.interval),this.interval=null,this.number=this.time,Promise.resolve()}async pause(){return this.paused=!0,Promise.resolve()}async restart(){return await this.stop(),await this.start(),Promise.resolve()}inWarning(){return this.number<this.time*(this.warningMarker/100)}inDanger(){return this.number<this.time*(this.dangerMarker/100)}componentWillLoad(){this._id||console.error("yduqs-countdown: Atributo `id` é obrigatório"),this.time||console.error("yduqs-countdown: Atributo `time` é obrigatório"),this.number=this.time}render(){const t=Math.trunc(this.number/60),s=this.number%60,n=this.paused?"":this.inDanger()?"danger":this.inWarning()?"warning":"";return i(h,{id:this._id,class:`c-countdown ${n}`},i("i",{class:"material-icons icon"},"alarm"),i("span",{class:"number"},t<10?`0${t}`:t,":",s<10?`0${s}`:s))}};export{n as yduqs_countdown}