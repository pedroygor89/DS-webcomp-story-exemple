import{r as t,h as o,g as e,c as s,a as i}from"./p-3b8a929f.js";import{i as a}from"./p-dc634267.js";import{a as n,c,d as l}from"./p-8657a933.js";const d=class{constructor(o){t(this,o)}animate(){this.content.style.maxHeight=`${this._contentMaxHeight}px`}render(){return o("div",{ref:t=>this.content=t,class:`c-accordion c-accordion--collapse ${this.outline?"c-accordion--outline":""} ${this._active?"c-accordion--active":""}`},o("slot",null))}get element(){return e(this)}},r=class{constructor(o){t(this,o),this.onClickCollapse=s(this,"onClickCollapse",7),this.onToggle=s(this,"togglepane",7),this._isOpen=!1,this.open=!1}async show(){this._isOpen=!0}async close(){this._isOpen=!1}toggle(){this._isOpen?this.close():this.show(),this.onToggle.emit(this._isOpen),this.animate()}async isOpen(){return this._isOpen}animate(){this.content.className=this._isOpen?"c-accordion__item c-accordion__item--pane u-fade-in":"c-accordion__item c-accordion__item--pane"}render(){const t=this._isOpen?"c-accordion__control--active":"";return o(i,{class:"c-accordion-pane"},o("button",{role:"heading","aria-expanded":this._isOpen.toString(),class:`c-accordion__control ${t}`,onClick:t=>{this.onClickCollapse.emit(t),this.toggle()}},o("div",{class:"c-accordion__title"},o("slot",{name:"c-accordion-header"})),o("span",{class:"c-accordion__icon material-icons"},"expand_more")),o("div",{ref:t=>this.content=t,"aria-hidden":!this._isOpen,class:"c-accordion__item c-accordion__item--pane"},o("slot",{name:"c-accordion-content"})))}},u=class{constructor(o){t(this,o),this.module_number=0,this.module_number_video=0,this.type_video="",this.english=!1,this.spanish=!1,this.scrollModules=void 0}async changeVideo(t){this.srcVideo=t}async changeModule(t){this.moduleId="apresentacao"==t?99:"conclusao"==t?100:t,this.el.querySelector("yduqs-playlist-video").module_number=parseInt(this.moduleId),this.el.querySelectorAll(".activated").forEach((t=>{t.classList.remove("activated")})),this.el.querySelectorAll(".bt-mod-"+t).forEach((t=>{t.classList.add("activated")}))}async changeVideoExternal(t){var o=t.id.split("-")[1];this.changeModule(o),this.moduleId="apresentacao"==o?99:"conclusao"==o?100:o,this.module_number=parseInt(this.moduleId),this.module_number_video=parseInt(this.moduleId),this.title_gallery=t.title_video,this.type_video=t.type,this.el.querySelector("yduqs-playlist-video").changeVideoGallery(t)}handleWindowResize(){this.verifyIsMobile()}renderNameModule(t){return(null==t?void 0:t.includes("modulo"))?(this.english?"Section ":"Módulo ")+t.slice(6):"apresentacao"==t||"Módulo apresentacao"==t?this.english?"Warm Up":this.spanish?"Introducción":"Introdução":"conclusao"==t?this.english?"Conclusion":this.spanish?"Conclusión":"Conclusão":(null==t?void 0:t.charAt(0).toUpperCase())+(null==t?void 0:t.slice(1))}verifyIsMobile(){window.innerWidth>991?this.getSizeScrollButtonsMenu():this.getSizeScrollButtonsMenuMobile()}mouseMoveButtonsModule(){document.querySelectorAll(".modules-wrapper").forEach((t=>{t.scrollTop=0,t.scrollLeft=0;let o={top:0,left:0,x:0,y:0};const e=function(e){const s=e.clientX-o.x;t.scrollTop=o.top-(e.clientY-o.y),t.scrollLeft=o.left-s},s=function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",s)};t.addEventListener("mousedown",(function(i){o={left:t.scrollLeft,top:t.scrollTop,x:i.clientX,y:i.clientY},document.addEventListener("mousemove",e),document.addEventListener("mouseup",s)}))}))}touchMoveButtonsModules(){document.querySelectorAll(".modules-wrapper").forEach((t=>{t.scrollTop=0,t.scrollLeft=0;let o={top:0,left:0,x:0,y:0};const e=function(e){t.scrollLeft=o.left-(e.touches[0].clientX-o.x)},s=function(){document.removeEventListener("touchmove",e),document.removeEventListener("touchstart",i),document.removeEventListener("touchend",s)},i=function(i){o={left:t.scrollLeft,top:t.scrollTop,x:i.touches[0].clientX,y:i.touches[0].clientY},document.addEventListener("touchmove",e),document.addEventListener("touchend",s)};t.addEventListener("touchstart",i)}))}renderButtonsMenu(){const t=[];return t.push(o("div",{class:"module-button bt-mod-0 activated",id:"all","data-gtm-event-category":":[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"galeria-video:conteudo-clique-botao","data-gtm-event-label":"trocar-modulo",onClick:t=>{this.changeModule(0),t.stopPropagation()}},o("p",null,a("pager.todos")))),document.querySelectorAll("module").forEach((e=>{let s=document.getElementById("apresentacao").querySelectorAll("yduqs-video-player"),i=document.getElementById("conclusao"),a=i.querySelectorAll("yduqs-video-player"),n=i.querySelectorAll("yduqs-module-video");0!==s.length&&"conclusao"!==e.id?t.push(o("div",{class:`module-button bt-mod-${e.id.replace("modulo","")}`,"data-gtm-event-category":":[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"galeria-video:conteudo-clique-botao","data-gtm-event-label":"trocar-modulo",onClick:t=>{this.changeModule(e.id.replace("modulo","")),t.stopPropagation()}},o("p",null,this.renderNameModule(e.id)))):0===n.length&&0===a.length||"apresentacao"===e.id?"apresentacao"!==e.id&&"conclusao"!==e.id&&t.push(o("div",{class:`module-button bt-mod-${e.id.replace("modulo","")}`,"data-gtm-event-category":":[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"galeria-video:conteudo-clique-botao","data-gtm-event-label":"trocar-modulo",onClick:t=>{this.changeModule(e.id.replace("modulo","")),t.stopPropagation()}},o("p",null,this.renderNameModule(e.id)))):t.push(o("div",{class:`issomesmo module-button bt-mod-${e.id.replace("modulo","")}`,"data-gtm-event-category":":[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"galeria-video:conteudo-clique-botao","data-gtm-event-label":"trocar-modulo",onClick:t=>{this.changeModule(e.id.replace("modulo","")),t.stopPropagation()}},o("p",null,this.renderNameModule(e.id))))})),o("div",{id:"box-modules-buttons",class:"modules-wrapper"},...t)}closeModalGallery(){let t=document.querySelector("yduqs-menu yduqs-modal");document.querySelector("yduqs-video-player iframe").removeAttribute("src"),t.setAttribute("isOpen","false")}getSizeScrollButtonsMenu(){this.el.querySelectorAll(".module-navigation .modules-wrapper").forEach((t=>{var o=this.el.querySelector(".before"),e=this.el.querySelector(".after");let s=t.getBoundingClientRect().right,i=t.getBoundingClientRect().x,a=t.scrollLeft,n=t.scrollWidth,c=t.getBoundingClientRect().width,l=s-i+a;var d=l.toFixed();const r=parseInt(d);0==a?o.classList.add("d-none"):o.classList.remove("d-none"),n-50<=c||r===n&&0!=a?e.classList.add("d-none"):e.classList.remove("d-none"),t.addEventListener("scroll",(function(){s=t.getBoundingClientRect().right,i=t.getBoundingClientRect().x,a=t.scrollLeft,n=t.scrollWidth,c=t.getBoundingClientRect().width,l=s-i+a;var d=l.toFixed();const r=parseInt(d);0==a?o.classList.add("d-none"):o.classList.remove("d-none"),n<=c||r==n&&0!=a?e.classList.add("d-none"):e.classList.remove("d-none")}))}))}getSizeScrollButtonsMenuMobile(){this.el.querySelectorAll(".module-navigation-mob .modules-wrapper").forEach((t=>{var o=this.el.querySelector(".before-mob"),e=this.el.querySelector(".after-mob");let s=t.getBoundingClientRect().right,i=t.getBoundingClientRect().x,a=t.scrollLeft,n=t.scrollWidth,c=t.getBoundingClientRect().width,l=s-i+a;var d=l.toFixed();const r=parseInt(d);0==a?o.classList.add("d-none"):o.classList.remove("d-none"),n-50<=c||r===n&&0!=a?e.classList.add("d-none"):e.classList.remove("d-none"),t.addEventListener("scroll",(function(){s=t.getBoundingClientRect().right,i=t.getBoundingClientRect().x,a=t.scrollLeft,n=t.scrollWidth,c=t.getBoundingClientRect().width,l=s-i+a;var d=l.toFixed();const r=parseInt(d);0==a?o.classList.add("d-none"):o.classList.remove("d-none"),n<=c||r==n&&0!=a?e.classList.add("d-none"):e.classList.remove("d-none")}))}))}nextScroll(){this.el.querySelectorAll(".modules-wrapper").forEach((t=>{t.scroll(t.scrollLeft+50,0)}))}prevScroll(){this.el.querySelectorAll(".modules-wrapper").forEach((t=>{t.scroll(t.scrollLeft-50,0)}))}async componentWillLoad(){const t=document.querySelector("html").getAttribute("lang");"en-us"===t?this.english=!0:"es"===t&&(this.spanish=!0),this.verifyIsMobile(),this.mouseMoveButtonsModule(),this.touchMoveButtonsModules()}componentWillRender(){this.verifyIsMobile(),this.mouseMoveButtonsModule(),this.touchMoveButtonsModules()}render(){return o("div",{class:"c-gallery-video"},o("div",{class:"c-gallery-video__header d-none d-lg-inline"},o("h5",null,0==this.module_number_video?a("pager.todos"):99==this.module_number_video?a("pager.apresentacao"):100==this.module_number_video?a("pager.conclusao"):a("pager.modulo")+" "+this.module_number_video),o("div",{class:"box-modules d-flex"},o("h1",{class:"col-12 col-lg-8 col-xxl-9",innerHTML:this.title_gallery}),o("div",{class:"module-navigation d-flex col-lg-4 col-xxl-3"},o("div",{class:"module-button-navigation before",id:"before",onClick:()=>{this.prevScroll()}},o("span",{class:"material-icons"},"keyboard_arrow_left")),this.renderButtonsMenu(),o("div",{class:"module-button-navigation after",id:"after",onClick:()=>{this.nextScroll()}},o("span",{class:"material-icons"},"keyboard_arrow_right"))))),o("div",{class:"c-gallery-video__content"},o("div",{class:"c-gallery-video__content_videos col-12 col-lg-8 col-xxl-9"},o("div",{class:"close-modal d-lg-none d-xl-none d-sxl-none",onClick:()=>{this.closeModalGallery()}},o("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M13.3 0.709971C12.91 0.319971 12.28 0.319971 11.89 0.709971L6.99997 5.58997L2.10997 0.699971C1.71997 0.309971 1.08997 0.309971 0.699971 0.699971C0.309971 1.08997 0.309971 1.71997 0.699971 2.10997L5.58997 6.99997L0.699971 11.89C0.309971 12.28 0.309971 12.91 0.699971 13.3C1.08997 13.69 1.71997 13.69 2.10997 13.3L6.99997 8.40997L11.89 13.3C12.28 13.69 12.91 13.69 13.3 13.3C13.69 12.91 13.69 12.28 13.3 11.89L8.40997 6.99997L13.3 2.10997C13.68 1.72997 13.68 1.08997 13.3 0.709971Z",fill:"#fff"}))),o("div",{class:"c-gallery-video__content_videos_video"},o("yduqs-video-player",{"skip-menu":"true",src:this.srcVideo,videoId:"",width:"",height:""})),o("div",{class:"c-gallery-video__header d-inline d-lg-none"},o("h5",null,0==this.module_number_video?a("pager.todos"):99==this.module_number_video?a("pager.apresentacao"):100==this.module_number_video?a("pager.conclusao"):a("pager.modulo")+" "+this.module_number_video),o("div",{class:"box-modules d-flex flex-column"},o("h1",{class:"col-lg-8 col-xxl-9",innerHTML:this.title_gallery}),o("div",{class:"d-flex module-navigation-mob"},o("div",{class:"module-button-navigation before-mob",id:"before",onClick:()=>{this.prevScroll()}},o("span",{class:"material-icons"},"keyboard_arrow_left")),this.renderButtonsMenu(),o("div",{class:"module-button-navigation after-mob",id:"after",onClick:()=>{this.nextScroll()}},o("span",{class:"material-icons"},"keyboard_arrow_right")))))),o("div",{class:"c-gallery-video__content_playlist col-12 col-lg-4 col-xxl-3"},o("yduqs-playlist-video",{id:"playlist",module_number:this.module_number}))))}get el(){return e(this)}},h=["#comment","#text","SCRIPT","STYLE","IFRAME","HR","svg","path","g","math","mi","mo","mrow","mfrac","msqrt","msup","mn"],m=["yduqs-menu","yduqs-rating","yduqs-modal","yduqs-pager"].join(","),v=class{constructor(o){t(this,o),this.open=!1,this.term="",this.hasSearch=!1,this.actualFoundItemPosition=-1,this.cacheDbId="data-cache-id",this.termFoundClass="c-search-found-item",this.termFoundResultClass="c-search-found-result-item"}reset(){var t,o;(null===(t=this.term)||void 0===t?void 0:t.length)?(null===(o=this.term)||void 0===o?void 0:o.length)>2&&this.handleSubmit({}):(this.hasSearch=!1,this.clearResults())}createCachedDb(){const t=$('p, span:not(.material-icons,.c-video-player__cover-title), strong, b, u, i:not(.material-icons), em, h1, h2, h3, h4, h5, h6, li, dt, dd, a:not(.c-button), [slot="card-heading"], [slot="card-subheading"], td, th');for(let o=0;o<t.length;o++)h.includes(t[o].nodeName)||"MJX-"==t[o].nodeName.substring(0,4)||Boolean($(t[o]).parents(m).length)||$(t[o]).attr(this.cacheDbId,(Math.random()+1).toString(36).substring(2));const o=$(`body *[${this.cacheDbId}]`),e=[];for(let t=0;t<o.length;t++){$(o[t]).html(n($(o[t]).html()));const s=$(o[t]),i=s.clone().contents(),a=i.map((t=>{var o;return"#text"===i[t].nodeName?c(i[t].textContent):(null===(o=i[t].dataset)||void 0===o?void 0:o.cacheId)?Array.from(Array(i[t].outerHTML.length),(()=>"*")).join(""):void 0}));if(a.length>0){const t={cachedId:s.attr(this.cacheDbId),original:s.html(),parsed:Array.from(a).join("")};e.push(t)}}return e}findInDocument(){this.actualFoundItemPosition=-1;let t=c(this.term);if(this.clearResults(),this.hasSearch=!0,""===t)return;const o=this.cachedDb.map((o=>({cachedId:o.cachedId,index:o.parsed.indexOf(t),length:t.length}))).filter((t=>t.index>=0));let e=[];o.forEach(((t,o)=>{var s,i,n,c,l;const d=$(`body *[${this.cacheDbId}="${t.cachedId}"]`),r=null===(s=d.html())||void 0===s?void 0:s.substr(t.index,t.length),u=null===(i=d.closest("[data-page]"))||void 0===i?void 0:i.attr("data-page"),h=null===(n=d.closest("[data-module]"))||void 0===n?void 0:n.attr("data-module"),m=h?isNaN(Number(h))?a(`pager.${h}`)||"":`${a("pager.modulo")} ${h}`:"",v=null===(c=d.html())||void 0===c?void 0:c.substr(0,t.index),p=t=>`<span class="${t}">${r}</span>`,g=null===(l=d.html())||void 0===l?void 0:l.substr(t.index+r.length);d.html(v+p(this.termFoundClass)+g),e.push({index:o,page:u||"0",locator:m,html:v+p(this.termFoundResultClass)+g})})),this.setResult(e),l("yduqs-search-called",{term:t})}setOpen(t){this.open=t}setTerm(t){this.term=t}handleOpen(){this.setOpen(!0),this.elemInput.focus()}handleClose(){this.setOpen(!1)}clearResults(){var t;this.result=[],this.hasSearch=!1;const o=$(`.${this.termFoundClass}`);for(let s=0;s<o.length;s++)if($(o[s]).is("span")){const i=$(o[s]).parent();var e=null===(t=this.cachedDb.find((t=>t.cachedId===i.attr(this.cacheDbId))))||void 0===t?void 0:t.original;e&&$(i).html(e)}l("yduqs-search-cleaned")}handleClear(){this.setTerm(""),this.clearResults()}handleReset(){this.handleClear(),this.handleClose()}handleInputChange(t){this.setTerm(t.target.value)}setResult(t){this.result=t}navigateOnResults(t){var o=$(`body span.${this.termFoundClass}`);if(this.actualFoundItemPosition=t<0?o.length-1:t>=o.length?0:t,o.eq(this.actualFoundItemPosition)){let t=o.eq(this.actualFoundItemPosition).offset().top;$(window).scrollTop(t-120)}this.handleClose(),l("yduqs-search-navigate",{position:this.actualFoundItemPosition})}handleResultItemClick(t,o){l("yduqs-search-before-navigate",{position:t,page:o}),setTimeout((()=>{this.navigateOnResults(t)}),400)}handleSubmit(t){"submit"===t.type&&t.preventDefault(),this.open?(this.cachedDb||(this.cachedDb=this.createCachedDb()),this.findInDocument()):this.handleOpen()}render(){var t;return o(i,{class:"c-search-bar"},o("form",{class:"c-search-bar-trigger "+(this.open?"opened":""),onSubmit:t=>this.handleSubmit(t)},o("button",{"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"barra-busca:conteudo-clique-botao","data-gtm-event-label":"voltar",type:"button",class:"c-button c-button__icon-container u-text--small c-search-bar-trigger-back",onClick:()=>this.handleReset()},o("span",{class:"c-button__icon material-icons"},"arrow_back")),o("div",{class:"c-search-bar-trigger-input-container"},o("input",{type:"search",class:"c-search-bar-trigger-input",onInput:t=>this.handleInputChange(t),value:this.term,ref:t=>this.elemInput=t,placeholder:"Pesquisar no tema"}),this.hasSearch&&o("span",{class:"c-button__icon material-icons",onClick:()=>this.handleClear()},"close")),o("button",{"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"barra-busca:conteudo-clique-botao","data-gtm-event-label":"buscar",type:"submit",class:"c-button c-button__icon-container u-text--small c-search-bar-trigger-btn"},o("span",{class:"c-button__icon material-icons"},"search"))),o("div",{class:"c-search-bar-result "+(this.open?"opened":"")},o("div",{class:"c-search-bar-result-overlay",onClick:()=>this.handleClose()}),o("div",{class:"c-search-bar-result-container"},(null===(t=this.result)||void 0===t?void 0:t.length)>0?o("div",{class:"c-search-bar-result-list"},this.result.map((t=>o("div",{class:"c-search-bar-result-list-item",onClick:()=>this.handleResultItemClick(t.index,t.page)},o("div",{class:"item-breadcrumb"},t.locator),o("div",{innerHTML:t.html}))))):this.hasSearch?o("div",{class:"c-search-bar-result-list-empty"},"Não encontramos nenhum resultado"):o("div",null))))}static get watchers(){return{term:["reset"]}}};export{d as yduqs_accordion,r as yduqs_accordion_pane,u as yduqs_gallery_video,v as yduqs_search_bar}