import{r as e,c as i,h as t,a as s,g as a}from"./p-c4393f38.js";import{i as n}from"./p-e9dad54e.js";const o=class{constructor(t){e(this,t),this.onChangeMenuData=i(this,"changemenudata",7),this.onClickMenuItem=i(this,"clickmenuitem",7),this.clickMenuTitle=i(this,"clickMenuTitle",7),this._isMobile=window.innerWidth<578,this._isOpen=!1,this._isOpenGallery=!1,this._isActive=!1,this._animate=!1,this._activeIndex=0,this._videoModule=1,this.videoItems={modules:[]},this.english=!1,this.spanish=!1,this.project_python=!1,this.hide_search=!1}handleWindowResize(){const e=window.innerWidth<578;e&&!this._isMobile?this._isMobile=!0:!e&&this._isMobile&&(this._isMobile=!1)}async initialize(e){this.settings=e}async openGalleryVideo(e){this.el.querySelector("yduqs-modal").isopen=!0,this.el.querySelector("yduqs-gallery-video").changeVideoExternal(e)}closeMenu(e){!this._isMobile&&this._isOpen&&this.animate(!0),e>=0&&(this._activeIndex=e),this._isOpen=!1}watchHandler(){this.updateActiveItem()}openMenu(){!this._isMobile&&this._isOpen?this.closeMenu():this._isOpen=!0}updateActiveItem(){this._activeIndex=this.position}renderActiveMarker(){return t("span",{class:"c-menu__active-marker"})}renderNameModule(e){return(null==e?void 0:e.includes("modulo"))?(this.english?"Section ":"Módulo ")+e.slice(6):"apresentacao"==e||"Módulo apresentacao"==e?this.english?"Introduction":this.spanish?"Introducción":"Introdução":"conclusao"==e||"Módulo conclusao"==e?this.english?"Conclusion":this.spanish?"Conclusión":"Conclusão":(null==e?void 0:e.charAt(0).toUpperCase())+(null==e?void 0:e.slice(1))}getNextSiblings(e){const i=[];for(;e=e.nextSibling;)3!==e.nodeType&&8!==e.nodeType&&i.push(e);return i}videosLoad(){document.querySelectorAll("module").forEach((e=>{let i=e.id.replace("modulo",""),t="modulo_"+i,s=[];e.querySelectorAll("yduqs-video-player").forEach(((e,t)=>{let a=e.closest("yduqs-module-video"),n=e.closest("yduqs-gallery-video"),o=e.closest("yduqs-questions"),c=e.closest("yduqs-teoria");if(c||a||n||o){if(c){let a;s.push({id:"mod"+i+"vid"+t,title_video:a,subtitle_video:"",thumb_video:"https://stensineme.blob.core.windows.net/designsystem/test/vid1.png",link_video:e.src,paragraph:"",time:"",border_bottom:!1,type:"Video"})}}else{let a=e.closest(".container").querySelector("yduqs-title");s.push({id:`mod-${i}-vid-${t}`,title_video:null==a?void 0:a.topic_title,subtitle_video:"",thumb_video:"https://stensineme.blob.core.windows.net/designsystem/test/vid1.png",link_video:e.src,paragraph:"",time:"",border_bottom:!1,type:"Video"})}})),this.videoItems.modules.push({module:t,playlist:s})}))}jsonLoad(){if(document.querySelector("yduqs-module-video")){if(document.body.classList.contains("template_recursos"))var e="https://stensineme.blob.core.windows.net/designsystem/test/playlist_teste.json";else e="./json/videos.json";fetch(e).then((e=>e.json())).then((async e=>{await e.modules.forEach((e=>{this.videoItems.modules.forEach(((i,t)=>{e.module==i.module&&(this.videoItems.modules[t].playlist=this.videoItems.modules[t].playlist.concat(e.playlist))}))}))}))}}renderMenuJorney(){document.body.classList.contains("project_python")&&(this.project_python=!0);const e=[],i=this._animate?"u-fade-in":"";return document.querySelectorAll("module").forEach(((i,s)=>{var a=[];s--;var n=document.querySelectorAll(".titles h2"),o=Array.prototype.map.call(n,(function(e){return e.textContent}));e.push("apresentacao"!==i.id&&"conclusao"!==i.id?t("yduqs-accordion",{outline:!1},t("yduqs-accordion-pane",{"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-item","data-gtm-event-label":"submenu:jornada-"+i.id},t("span",{slot:"c-accordion-header"},t("span",{innerHTML:this.renderNameModule(i.id)}),t("p",{class:"module-subtitle-menu",innerHTML:o[s]})),t("div",{slot:"c-accordion-content"},i.querySelectorAll("yduqs-title, yduqs-questions, yduqs-teoria, yduqs-atividade-discursiva, .bgLigandoPontos").forEach(((e,i)=>{if(e.classList.contains("bgLigandoPontos")&&(e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.english?"Connecting the dots":this.spanish?"Conectando los Puntos":"Ligando os Pontos"))))),!e.closest(".bgLigandoPontos"))if("YDUQS-TITLE"==e.tagName){if(!e.getAttribute("skip-menu")){let d=e.closest(".container");if(null!==d){var s=d.querySelector("yduqs-module-video"),n=d.querySelector("yduqs-questions"),o=d.querySelector("yduqs-atividade-discursiva"),c=e.getAttribute("topic_icon");null===o&&null===n&&null===s&&"video_library"!==c&&"ondemand_video"!==c&&"headset"!==c&&"note_alt_black"!==c&&a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"}," library_books"),t("span",{innerHTML:e.getAttribute("topic_title")}))))}}}else"YDUQS-QUESTIONS"==e.tagName?e.getAttribute("question_id")?e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.english?"Learning Check":this.spanish?"Verificar el Aprendizaje":"Verificando Aprendizado")))):e.getAttribute("exercise_id")&&(e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.english?"Hands on":this.spanish?"Manos a la obra":"Mão na Massa"))))):"YDUQS-TEORIA"==e.tagName?e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.project_python?this.english?"Coding from scratch":"Codando do zero":this.english?"Theory in Practice":this.spanish?"Teoría en la Práctica":"Teoria na Prática ")))):"YDUQS-ATIVIDADE-DISCURSIVA"==e.tagName&&(e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.english?"Discursive Activity":this.spanish?"Actividad Discursiva":"Atividade Discursiva")))))})),...a))):t("a",{class:"menu-button",href:`#${i.id}`,onClick:()=>{const e=Array.from(i.childNodes).filter((e=>!(3===e.nodeType||8===e.nodeType)))[0];this.clickMenuTitle.emit(e||i),this.closeMenu()},"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-item","data-gtm-event-label":"submenu:jornada-"+i.id},t("span",{slot:"c-accordion-header",innerHTML:this.renderNameModule(i.id)})))})),e.push(t("div",{id:"accordion-download"},this.getRenderDowloads())),t("menu",{class:`c-menu__items-wrapper ${i}`},t("yduqs-accordion-group",{id:"accgroup-journey"},...e," "))}renderMenuMedia(){const e=[],i=this._animate?"u-fade-in":"";var s=document.querySelectorAll(".titles h2");return this._titleModuloCover=Array.prototype.map.call(s,(function(e){return e.textContent})),this.settings.modules.forEach(((i,s)=>{let a=[],o=0,c=i.module.replace("modulo_","");if("apresentacao"!==c&&"conclusao"!==c&&"introducao"!==c){if(i.playlist.forEach(((e,t)=>{let s=i.module.replace("modulo_","");"Video"===e.type?e.id=`mod-${s}-vid-${t}`:(e.id=`mod-${s}-pl-${o}`,o++)})),i.playlist.forEach((e=>{if("Video"===e.type)var i=" ondemand_video";else i=" playlist_play";a.push(t("a",{"data-gtm-event-category":":[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-item","data-gtm-event-label":"acessar-video",class:"c-menu__item-container",onClick:()=>{this.closeMenu(),this.openGalleryVideo(e)}},t("span",{class:"c-menu__item"},t("span",{class:"c-menu__item c-menu__item--active"},t("span",{class:"material-icons"}," ",i),t("span",{id:e.id,class:"c-menu__item-title",innerHTML:this.renderNameModule(e.title_video)})))))})),i.playlist&&i.playlist.length>0){e.push(t("yduqs-accordion",{id:"menu-accordion-video-"+s,outline:!1},t("yduqs-accordion-pane",{"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-item","data-gtm-event-label":"submenu:video-"+c},t("span",{slot:"c-accordion-header",innerHTML:this.renderNameModule("apresentacao"==c?n("pager.apresentacao"):"conclusao"==c?n("pager.conclusao"):n("pager.modulo")+c)},t("p",{class:"module-subtitle-menu",innerHTML:this._titleModuloCover&&this._titleModuloCover[s-1]||""})),t("div",{slot:"c-accordion-content"},...a))));let i=document.getElementById("menu-accordion-video-"+s);0===a.length&&null!==i&&i.remove()}}else if(i.playlist.forEach(((e,t)=>{let s=i.module.replace("modulo_","");"Video"===e.type?e.id=`mod-${s}-vid-${t}`:(e.id=`mod-${s}-pl-${o}`,o++)})),i.playlist.forEach((e=>{if("Video"===e.type)var i=" ondemand_video";else i=" playlist_play";a.push(t("a",{class:"c-menu__item-container",onClick:()=>{this.closeMenu(),this.openGalleryVideo(e)}},t("span",{class:"c-menu__item"},t("span",{class:"c-menu__item c-menu__item--active"},t("span",{class:"material-icons"}," ",i),t("span",{id:e.id,class:"c-menu__item-title",innerHTML:this.renderNameModule(e.title_video)})))))})),i.playlist&&i.playlist.length>0){e.push(t("yduqs-accordion",{id:"menu-accordion-video-"+s,outline:!1},t("yduqs-accordion-pane",{"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-item","data-gtm-event-label":"submenu:video-"+c},t("span",{slot:"c-accordion-header",innerHTML:this.renderNameModule("Módulo "+c)}),t("div",{slot:"c-accordion-content"},...a))));let i=document.getElementById("menu-accordion-video-"+s);0===a.length&&null!==i&&i.remove()}})),t("menu",{class:`c-menu__items-wrapper ${i}`},t("yduqs-accordion-group",{id:"accgroup-media"},...e))}renderMenuActivity(){const e=[],i=this._animate?"u-fade-in":"";return document.querySelectorAll("module").forEach(((i,s)=>{var a=[];if("apresentacao"!==i.id&&"conclusao"!==i.id&&"introducao"!==i.id){e.push(t("yduqs-accordion",{id:"menu-accordion-"+s,outline:!1},t("yduqs-accordion-pane",{"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-item","data-gtm-event-label":"submenu:atividade-"+i.id},t("span",{slot:"c-accordion-header",innerHTML:this.renderNameModule(i.id)},t("p",{class:"module-subtitle-menu",innerHTML:this._titleModuloCover&&this._titleModuloCover[s-1]||""})),t("div",{slot:"c-accordion-content"},i.querySelectorAll("yduqs-questions, yduqs-teoria, yduqs-atividade-discursiva, .bgLigandoPontos").forEach(((e,i)=>{e.getAttribute("skip-menu")||(e.classList.contains("bgLigandoPontos")&&a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.english?"Connecting the dots":this.spanish?"Relacionando los puntos":"Ligando os Pontos")))),e.closest(".bgLigandoPontos"))||(e.getAttribute("question_id")?e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.english?"Learning Check":this.spanish?"Verificar el Aprendizaje":"Verificando Aprendizado")))):e.getAttribute("exercise_id")?e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.english?"Hands on":this.spanish?"Manos a la obra":"Mão na Massa")))):"YDUQS-TEORIA"==e.tagName?e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.project_python?this.english?"Coding from scratch":"Codando do zero":this.english?"Theory in Practice":this.spanish?"Teoría en la Práctica":"Teoria na Prática ")))):"YDUQS-ATIVIDADE-DISCURSIVA"==e.tagName&&(e.getAttribute("skip-menu")||a.push(t("a",{class:{"c-menu__item-container":!0},onClick:()=>{this.clickMenuTitle.emit(e),this.closeMenu(i),e.scrollIntoView()}},t("span",{class:{"c-menu__item":!0,"c-menu__item--active":this._activeIndex===i}},t("span",{class:"material-icons"},"create"),t("span",null,this.english?"Discursive Activity":this.spanish?"Actividad Discursiva":"Atividade Discursiva"))))))})),...a))));let n=document.getElementById("menu-accordion-"+s);0===a.length&&null!==n&&n.remove()}})),t("menu",{class:`c-menu__items-wrapper ${i}`},t("yduqs-accordion-group",{id:"accgroup-activities"},...e," "))}getMenuRender(){const e=document.body.querySelectorAll("yduqs-module-video").length-document.body.querySelectorAll('yduqs-module-video[skip-menu="true"]').length,i=document.body.querySelectorAll("yduqs-module-video yduqs-video-player").length,s=e+(document.body.querySelectorAll("yduqs-video-player").length-document.body.querySelectorAll('yduqs-video-player[skip-menu="true"]').length-i),a=document.body.querySelectorAll("yduqs-questions").length-document.body.querySelectorAll('yduqs-questions[skip-menu="true"]').length+(document.body.querySelectorAll("yduqs-atividade-discursiva").length-document.body.querySelectorAll('yduqs-atividade-discursiva[skip-menu="true"]').length)+(document.body.querySelectorAll("yduqs-teoria").length-document.body.querySelectorAll('yduqs-teoria[skip-menu="true"]').length)+(document.body.querySelectorAll(".bgLigandoPontos").length-document.body.querySelectorAll('.bgLigandoPontos[skip-menu="true"]').length);let n=this.english?"Journey":"Jornada",o=this.english||this.spanish?"Videos":"Vídeos",c=this.english?"Activities":this.spanish?"Actividades":"Atividades";return t("div",{class:this._isOpen?"c-menu__modal__wrapper open":"c-menu__modal__wrapper"},t("div",{class:"c-menu__modal__overlay",onClick:()=>this.closeMenu()}),t("div",{class:"c-menu__modal"},t("div",{class:"c-menu__modal__header"},t("button",{class:"c-menu__modal__header__btn-close",onClick:()=>this.closeMenu()},t("div",{class:"c-menu__modal__header__btn-close-icon"},t("span",{class:"material-icons"},"close")))),t("div",{class:"c-menu__modal__body"},t("div",{class:"c-menu__modal__body__tab col-12"},t("yduqs-tabs",{fixed_titles:!0,darkmode:!1,outlined:!1,icons:["map","video_library","create"],gtm_category:[":[[instituicao]]:[[tipo-usuario]]",":[[instituicao]]:[[tipo-usuario]]",":[[instituicao]]:[[tipo-usuario]]"],gtm_action:["menu:conteudo-clique-submenu","menu:conteudo-clique-submenu","menu:conteudo-clique-submenu"],gtm_label:["jornada","videos","atividades"]},t("yduqs-tab",{header:n,open:!0},this.renderMenuJorney()),s>0&&t("yduqs-tab",{header:o},this.renderMenuMedia()),a>0&&t("yduqs-tab",{header:c},this.renderMenuActivity()))))))}animate(e=!1){this._animate=e}async componentWillLoad(){const e=document.querySelector("html").getAttribute("lang");"en-us"===e?this.english=!0:"es"===e&&(this.spanish=!0),await this.videosLoad(),await this.jsonLoad(),this.initialize(this.videoItems),document.querySelector('a.menu-button[href="#conclusao"]').setAttribute("id","pager_menu_conclusao")}getRenderDowloads(){const e=[];return document.querySelectorAll("yduqs-audio-player").forEach((i=>{e.push(t("a",{class:"c-menu__item-container","data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-item","data-gtm-event-label":"download:download-podcast",href:i.src,download:!0},t("span",{class:"c-menu__item"},t("span",{class:"c-menu__item"},t("span",{class:"material-icons"},"mic"),t("span",{id:"resource"},"Podcast"),t("span",{class:"material-icons icon-right"},"file_download")))))})),t("yduqs-accordion",{outline:!1},t("yduqs-accordion-pane",null,t("span",{slot:"c-accordion-header"},"Downloads"),t("div",{slot:"c-accordion-content"},...e,t("a",{class:"c-menu__item-container",href:"javascript:CriaPDF()","data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-item","data-gtm-event-label":"download:download-pdf"},t("span",{class:"c-menu__item"},t("span",{class:"c-menu__item"},t("span",{class:"material-icons"},"attachment"),t("span",{id:"resource"},this.english?"Content PDF":this.spanish?"Contenido PDF":"PDF do conteúdo"),t("span",{class:"icon-right material-icons"},"file_download_done")))))))}componentDidLoad(){document.querySelectorAll("yduqs-audio-player").forEach(((e,i)=>{var t=document.createElement("span");e.appendChild(t).setAttribute("id","podcast-anchor-menu-"+i)}))}render(){return t(s,{class:"c-menu "+(this._isMobile?"mobile":"desktop")},t("div",{class:"c-menu__floating-btn__container"},t("button",{class:"c-menu__floating-btn",onClick:()=>this.openMenu(),"data-gtm-event-category":"joana:[[instituicao]]:[[tipo-usuario]]","data-gtm-event-action":"menu:conteudo-clique-menu","data-gtm-event-label":"abrir-menu"},t("div",{class:"c-menu__floating-icon "+(this._isOpen?"open":"")},t("span",{class:"icon-bar"}),t("span",{class:"icon-bar"}),t("span",{class:"icon-bar"}),t("span",{class:"icon-bar"}),t("span",{class:"icon-bar"}),t("span",{class:"icon-bar"}))),!this.hide_search&&t("yduqs-search-bar",null)),this.getMenuRender(),t("yduqs-modal",{id:"modal-gallery-menu"},t("div",{class:"container"},t("yduqs-gallery-video",{id:"gallery",module_number:0,title_gallery:""}))))}get el(){return a(this)}static get watchers(){return{position:["watchHandler"]}}};export{o as yduqs_menu}