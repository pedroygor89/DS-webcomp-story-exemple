import{r as t,c as e,g as s,h as o,a as i}from"./p-c4393f38.js";import"./p-8c4b9012.js";const a=class{constructor(s){t(this,s),this.textChange=e(this,"textChange",7),this.autoUpdateContent=!0,this.durationBeforeCallback=0,this.options={},this.readOnly=!1,this.theme="ambiance",this.mode="javascript",this.text=""}setOptions(t){this._editor.setOptions(t||{})}setReadOnly(t){this._editor.setReadOnly(t)}async setTheme(t,e=!0){if(e){var s=`https://unpkg.com/brace/theme/${t}`;await import(s)}this._editor.setTheme(`ace/theme/${t}`)}async setMode(t,e=!0){var s=t;if("python"!==s&&"python2"!==s&&"python3"!==s||(s="python"),"c"!==s&&"c++"!==s&&"csharp"!==s&&"c-sharp"!==s&&"cpp"!==s||(s="c_cpp"),"objective-c"!==s&&"objectivec"!==s||(s="objectivec"),"go"!==s&&"golang"!==s||(s="golang"),"coffee"!==s&&"coffeescript"!==s||(s="coffee"),"vb"!==s&&"vbscript"!==s||(s="vbscript"),e){var o="https://unpkg.com/brace/mode/"+s;await import(o)}this._editor.getSession().setMode("ace/mode/"+s)}watchText(t){null==t&&(t=""),this.text!==t&&!0===this.autoUpdateContent&&(this.text=t,this._editor.setValue(t),this._editor.clearSelection())}componentDidLoad(){this.init(),this.initEvents()}async getEditor(){return this._editor}init(){this.elm&&!this._editor&&(this._editor=ace.edit(this.elm),this._editor.$blockScrolling=1/0),this._editor&&(this.setOptions(this.options||{}),this.setTheme(this.theme),this.setMode(this.mode),this.setReadOnly(this.readOnly))}initEvents(){this._editor.on("change",(()=>this.updateText())),this._editor.on("paste",(()=>this.updateText()))}updateText(){let t=this._editor.getValue();t!==this.oldText&&(this.durationBeforeCallback?(this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout((()=>{this.text=t,this.textChange.emit(t),this.timeoutSaving=null}),this.durationBeforeCallback)):(this.text=t,this.textChange.emit(t)),this.oldText=t)}get elm(){return s(this)}static get watchers(){return{options:["setOptions"],readOnly:["setReadOnly"],theme:["setTheme"],mode:["setMode"],text:["watchText"]}}},n=class{constructor(e){t(this,e),this.project_python=!1,this.text_console="",this.text_response="",this.response_active=!1}async copy(t){navigator.clipboard.writeText(t)}async GET(t,e){var s=new XMLHttpRequest;return s.withCredentials=!1,s.open(t,e,!1),s.setRequestHeader("x-rapidapi-key","5c5fc15161msh1ed684ed727dacdp1856e4jsn507d3fc3d8ce"),s.setRequestHeader("x-rapidapi-host","paiza-io.p.rapidapi.com"),s.send(null),s.responseText}async runCompilerDesktop(){this.text_console='<yduqs-loading open message="Estamos compilando o código."></yduqs-loading>',this.response_active=!1,setTimeout((()=>{this.runCompilerAPI()}),100)}runCompilerMobile(){this.text_console='<yduqs-loading open message="Estamos compilando o código."></yduqs-loading>',this.response_active=!1,this.el.querySelector("yduqs-tabs").openTab(1),setTimeout((()=>{this.runCompilerAPI()}),100)}async runCompilerAPI(){var t="https://paiza-io.p.rapidapi.com/runners/create?source_code="+encodeURIComponent(this.current_code)+"&input="+encodeURIComponent(this.el.querySelector(".content_input pre").innerHTML.replace(/<br ?\/?>/g,"\n"))+"&language="+this.language_code+"&longpoll=true&api_key=guest",e="https://paiza-io.p.rapidapi.com/runners/get_status?id="+JSON.parse(await this.GET("POST",t)).id+"&api_key=guest",s=JSON.parse(await this.GET("GET",e));if("completed"==s.status){var o="https://paiza-io.p.rapidapi.com/runners/get_details?id="+s.id+"&api_key=guest",i=JSON.parse(await this.GET("GET",o));"success"==i.result?(this.response_active=!0,this.text_response=i.stdout):(this.response_active=!1,this.text_console='<span class="error-compiler">'+i.stderr+"</span>")}}textChangeHandler(t){this.current_code=t.detail}setInput(){this.el.querySelector(".content_input pre").innerHTML=decodeURIComponent(this.input_keyboard),this.el.querySelector(".content_input-tab pre").innerHTML=decodeURIComponent(this.input_keyboard)}updateInput(){this.el.querySelector(".content_input pre").innerHTML=this.el.querySelector(".content_input-tab pre").innerHTML}updateInputTab(){this.el.querySelector(".content_input-tab pre").innerHTML=this.el.querySelector(".content_input pre").innerHTML}componentWillRender(){this.isDark=this.dark}componentDidLoad(){null==this.current_code&&(this.current_code=decodeURIComponent(this.code)),"python"!==this.language_code&&"python2"!==this.language_code&&"python3"!==this.language_code||(this.language_code="python3"),this.setInput()}openModal(t){document.getElementById(t).setAttribute("isopen","true")}render(){return[o("div",{class:"c-code-compiler "+(this.isDark?"dark":"")},!this.project_python&&o("div",{class:"top d-flex align-items-center justify-content-between"},o("span",{class:"title"},this.exercise_title),o("span",{class:"material-icons icon",onClick:()=>this.copy(this.current_code)},"content_copy")),o("div",{class:"box"},o("div",{class:"box-code"},this.project_python?o("div",{class:"box-code-float-padd"},o("stace-editor",{class:"content_code",mode:this.language_code,theme:this.isDark?"monokai":"chrome",readOnly:!1,autoUpdateContent:!0,durationBeforeCallback:1e3},decodeURIComponent(this.code))):o("div",null,o("span",{class:"title_code"},this.language_code),o("stace-editor",{class:"content_code",mode:this.language_code,theme:this.isDark?"monokai":"chrome",readOnly:!1,autoUpdateContent:!0,durationBeforeCallback:1e3},decodeURIComponent(this.code))),this.project_python&&o("div",{class:"top d-flex align-items-center justify-content-start"},o("div",{class:"button_console"},o("button",{class:"me-4 c-button c-button__icon-container "+(this.isDark?"c-button--dark":""),type:"button",onClick:()=>this.runCompilerDesktop()},o("span",{class:"c-button__icon-text-right material-icons"},"play_arrow"),"Executar")),o("span",{title:"Copiar código",class:"float-icon me-4 material-icons icon",onClick:()=>this.copy(this.current_code)},"content_copy"),o("span",{title:"Orientações",class:"modal float-icon me-4 material-icons icon",onClick:()=>this.openModal("float-compiler-obs")},"help_outline"))),o("div",{class:"box-input-console"},o("div",{class:"box-input"},o("span",{class:"title_input"},"Input"),o("div",{class:"content_input",onInput:()=>this.updateInputTab()},o("pre",{autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"true"}))),o("div",{class:"box-console"},o("span",{class:"title_console"},"Console"),!this.project_python&&o("div",{class:"button_console"},o("button",{class:"c-button c-button__icon-container "+(this.isDark?"c-button--dark":""),type:"button",onClick:()=>this.runCompilerDesktop()},o("span",{class:"c-button__icon-text-right material-icons"},"play_arrow"),"Executar")),this.response_active?o("textarea",{class:"content_response",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"false",disabled:!0,innerHTML:this.text_response}):o("div",{class:"content_console",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"false",innerHTML:this.text_console})),o("div",{class:"box-mobile"},o("yduqs-tabs",{darkmode:!1},o("yduqs-tab",{header:"Input",open:!0},o("div",{class:"box-input-tab"},o("div",{class:"content_input-tab",onInput:()=>this.updateInput()},o("pre",{autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"true"})))),o("yduqs-tab",{header:"Console"},o("div",{class:"box-console-tab"},this.response_active?o("textarea",{class:"content_response-tab",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"false",disabled:!0,innerHTML:this.text_response}):o("div",{class:"content_console-tab",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"false",innerHTML:this.text_console})))),o("div",{class:"button_console-mobile"},o("button",{class:"c-button c-button__icon-container u-text--small "+(this.isDark?"c-button--dark":""),type:"button",onClick:()=>this.runCompilerMobile()},o("span",{class:"c-button__icon-text-right material-icons"},"play_arrow")))))))]}get el(){return s(this)}},c=class{constructor(e){t(this,e),this.dark=!0,this._isMobile=window.innerWidth<578,this._isOpen=!1,this._isActive=!1,this._animate=!1,this._activeIndex=0}handleWindowResize(){const t=window.innerWidth<578;t&&!this._isMobile?this._isMobile=!0:!t&&this._isMobile&&(this._isMobile=!1)}closeFloatCompiler(t){!this._isMobile&&this._isOpen&&this.animate(!0),t>=0&&(this._activeIndex=t),this._isOpen=!1}openFloatCompiler(){!this._isMobile&&this._isOpen?this.closeFloatCompiler():this._isOpen=!0}animate(t=!1){this._animate=t}open_compiler(){document.body.classList.add("compiler_open"),document.querySelector("yduqs-float-compiler").classList.add("floatCompiler_open"),document.getElementById("iframe-container").classList.add("collapsed"),document.getElementById("compiler-container").classList.remove("collapsed"),document.getElementById("sidebarFloatCompiler").classList.remove("collapsed"),this._isOpen=!0}close_compiler(){document.body.classList.remove("compiler_open"),document.querySelector("yduqs-float-compiler").classList.remove("floatCompiler_open"),document.getElementById("iframe-container").classList.remove("collapsed"),document.getElementById("compiler-container").classList.add("collapsed"),document.getElementById("sidebarFloatCompiler").classList.add("collapsed"),this._isOpen=!1}componentDidLoad(){let t=window.frames[0];function e(){!0===t.document.querySelector("body").classList.contains("pager_first_page")?(t.document.querySelector("body").classList.remove("pager_module_cover"),document.body.classList.add("theme_first_page"),document.getElementById("iframe-container").classList.remove("collapsed"),document.getElementById("compiler-container").classList.add("collapsed"),document.getElementById("sidebarFloatCompiler").classList.add("collapsed"),document.querySelector("yduqs-float-compiler").classList.remove("floatCompiler_open")):(document.body.classList.remove("theme_first_page"),document.body.classList.remove("theme_last_page"),document.getElementById("compiler-container").classList.remove("d-none")),!0===t.document.querySelector("body").classList.contains("pager_last_page")?document.body.classList.add("theme_last_page"):document.body.classList.remove("theme_last_page");const e=setTimeout((function(){void 0!==t.document.querySelector("body").classList.contains("pager_module_cover")&&(!0===t.document.querySelector("body").classList.contains("pager_module_cover")?(document.body.classList.add("theme_module_cover"),document.body.classList.remove("theme_first_page")):document.body.classList.remove("theme_module_cover"),clearTimeout(e))}),250)}function s(){document.body.classList.add("theme_last_page")}document.body.classList.add("theme_first_page"),window.addEventListener("yduqs-pager-module-cover",(t=>{t.detail.iscover?document.body.classList.add("theme_module_cover"):document.body.classList.remove("theme_module_cover")})),t.onload=function(){const o=setTimeout((function(){void 0!==t.document.getElementById("pager_menu_conclusao")&&(e(),t.document.getElementById("start_class").addEventListener("click",e,!1),t.document.getElementById("btnPaginator").addEventListener("click",e,!1),t.document.getElementById("pager_menu_conclusao").addEventListener("click",s,!1),clearTimeout(o))}),250);t.document.querySelector('a[href*="#conclusao"]').setAttribute("id","pager_menu_conclusao")}}getCompiler(){return o("div",{id:"sidebarFloatCompiler",class:"collapsed c-float-compiler__floating-btn__container"},o("button",{class:"floatCompilerClose c-button u-text--small d-inline-block",onClick:()=>this.close_compiler()},o("span",{class:"material-icons d-inline-block"},"close"),o("span",null,"Fechar")),o("yduqs-code-compiler",{exercise_title:"Compilador",language_code:"python",input_keyboard:"",code:"",dark:!0,project_python:!0}),o("yduqs-modal",{id:"float-compiler-obs"},o("div",{class:"row"},o("div",{class:"col"},o("span",{class:"c-modal__title"},o("span",{class:"material-icons icon"},"help_outline")," Orientações de uso"))),o("div",{class:"row"},o("div",{class:"col"},o("p",{class:"c-modal__paragraph"},"Para utilizar o compilador basta digitar ou colar o código e depois clicar em Executar. Quando houver necessidade de entrada de dados pelo usuário, o valor de entrada deve ser inserido no campo input antes da execução do código. Quando houver mais de uma entrada, cada valor deverá ser inserido em uma linha isolada dentro do campo. A saída será visualizada no campo console.")))))}render(){return o(i,{class:"c-float-compiler "+(this._isOpen?"floatCompiler_open":"")},o("div",{id:"openCompiler",class:"c-float-compiler__floating-btn__container"},o("button",{class:"c-button u-text--medium p-3",onClick:()=>this.open_compiler()},o("span",{class:"c-float-compiler-button-icon material-icons d-inline-block"},"code"),o("span",{class:"c-float-compiler-button-text"},"Compilador"))),this.getCompiler())}get el(){return s(this)}},l=class{constructor(s){t(this,s),this.modalClosed=e(this,"modalClosed",7),this._isopen=!1,this.isopen=!1,this.closeModal=()=>{this.isopen=!1,this.modalClosed.emit(!0)}}handleModal(t){this._isopen=t}async showModal(){this._isopen=!0}componentWillLoad(){this._isopen=this.isopen,this.getModalBodyHeight()}onResize(t){t.stopPropagation(),this.getModalBodyHeight()}getModalBodyHeight(){let t=window.innerWidth;this.maxbodyheight=t>600?.7*window.innerHeight-56:.8*window.innerHeight-56}render(){return o("div",{class:this._isopen?"c-modal__wrapper isopen":"c-modal__wrapper"},o("div",{class:"c-modal__overlay",onClick:this.closeModal}),o("div",{class:"c-modal"},o("div",{class:"c-modal__header"},o("div",{class:"c-modal__close",onClick:this.closeModal},o("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M13.3 0.709971C12.91 0.319971 12.28 0.319971 11.89 0.709971L6.99997 5.58997L2.10997 0.699971C1.71997 0.309971 1.08997 0.309971 0.699971 0.699971C0.309971 1.08997 0.309971 1.71997 0.699971 2.10997L5.58997 6.99997L0.699971 11.89C0.309971 12.28 0.309971 12.91 0.699971 13.3C1.08997 13.69 1.71997 13.69 2.10997 13.3L6.99997 8.40997L11.89 13.3C12.28 13.69 12.91 13.69 13.3 13.3C13.69 12.91 13.69 12.28 13.3 11.89L8.40997 6.99997L13.3 2.10997C13.68 1.72997 13.68 1.08997 13.3 0.709971Z",fill:"#30404D"})))),o("div",{style:{"max-height":`calc(${this.maxbodyheight}px + 10vh)`},class:"c-modal__body"},o("slot",null))))}static get watchers(){return{isopen:["handleModal"]}}},d=class{constructor(e){t(this,e)}render(){const t=this.type?`c-tabs__tab--${this.type}`:"";return o(i,null,this.outline?o("div",{class:"c-round-border"},o("div",{role:"tabpanel",hidden:!this.open,class:"c-tabs__tab {typeClass}"},o("slot",null))):o("div",{role:"tabpanel",hidden:!this.open,class:`c-tabs__tab ${t}`},o("slot",null)))}},r=class{constructor(s){t(this,s),this.onChange=e(this,"changed",7),this.fixed_titles=!1,this.gtm_category=[],this.gtm_action=[],this.gtm_label=[]}componentWillLoad(){this.tabs=Array.from(this.elem.querySelectorAll("yduqs-tab"))}async currentTab(){return this.tabs.findIndex((t=>t.open))}async openTab(t){this.tabs[t].disabled||(this.tabs=this.tabs.map((t=>(t.open=!1,t))),this.tabs[t].open=!0,this.onChange.emit({idx:t}))}render(){return o("div",{class:`c-tabs ${this.darkmode?"c-tabs--dark":""} ${this.outlined?"c-tabs--outlined":""}`},o("div",{role:"tablist",class:"c-tabs"},o("div",{class:"c-tabs__nav"},o("div",{class:"c-tabs__headings"},this.tabs.map(((t,e)=>o("div",{class:"c-tab-heading "+(t.open?"c-tab-heading--active":""),onClick:()=>this.openTab(e),innerHTML:this.icons?`<span class="c-button__icon-text-right material-icons">${this.icons[e]}</span> ${t.header}`:`${t.header}`,role:"tab","data-gtm-event-category":this.gtm_category[e],"data-gtm-event-action":this.gtm_action[e],"data-gtm-event-label":this.gtm_label[e]}))))),0!=this.fixed_titles?o("div",{class:"c-tabpanel-scroll"},o("slot",null)):o("slot",null)))}get elem(){return s(this)}};export{a as stace_editor,n as yduqs_code_compiler,c as yduqs_float_compiler,l as yduqs_modal,d as yduqs_tab,r as yduqs_tabs}