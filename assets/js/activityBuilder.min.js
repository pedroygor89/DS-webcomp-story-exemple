function ActivityBuilder(e) { this.render(e) } ActivityBuilder.prototype.render = function (e) { let t = 0; document.querySelectorAll("activity").forEach((e, i) => { t = i }), e.querySelectorAll("activity").forEach((e, t) => { if (e.getAttribute("id")) { if (activity = completActivity[`${e.getAttribute("id")}`], "undefined" != typeof activity) { var i = document.querySelectorAll("activity"); let t = 0; for (; t <= i.length; t++); this.buildCompletActivity(e, t, activity) } } else console.warn("############"), console.warn("####### ATENÇÃO: Uma atividade não foi definida corretamente no arquivo index.html."), console.warn("############") }) }, ActivityBuilder.prototype.buildCompletActivity = function (e, t, i) { let l = document.createElement("div"); l.classList.add("container-complet-activity"); let n = document.createElement("div"); n.classList.add("row", "justify-content-center", "bg-light", "rounded", "p-5"); let a = document.createElement("div"); a.classList.add("col-12", "col-md-3", "complet-activity-options-container"); let c = document.createElement("div"); c.classList.add("text-center", "text-light", "border", "rounded", "p-3", "complet-activity-options"); let d = document.createElement("div"); d.classList.add("col-12", "col-md-9", "rounded", "p-3", "text-dark", "complet-activity-content"); let o = document.createElement("form"); o.innerHTML = i.content; let r = []; o.querySelectorAll("option").forEach((e, t) => { let i = document.createElement("select"); i.classList.add("form-control", "custom-select", "d-inline-flex", "select-complet-activity"), i.dataset.referentialIndex = t, i.addEventListener("change", () => { o.querySelectorAll(`option[value='${i.value}']`).forEach(e => { e.classList.add("option-selected"), void 0 !== e.children[0] ? i.classList.add("italico") : i.classList.remove("italico") }); let e = i.dataset.indexOption; i.dataset.indexOption = i.value, e && (o.querySelector(`select[data-index-option='${e}']`) || o.querySelectorAll(`option[value='${e}']`).forEach(e => { e.classList.remove("option-selected") })) }); let l = document.createElement("option"); l.setAttribute("valeu", "empty"), l.setAttribute("disabled", "disabled"), l.setAttribute("selected", "selected"), l.innerHTML = "----------", i.appendChild(l), e.parentElement.replaceChild(i, e), r.push({ text: e.text, index: t, innerHTML: e.innerHTML }) }), r.sort(function (e, t) { return e.text.localeCompare(t.text) }), r.forEach(e => { let t = document.createElement("p"); t.classList.add("p-2", "m-2", "bg-secondary", "rounded"), t.innerHTML = e.innerHTML, c.appendChild(t), o.querySelectorAll("select").forEach(t => { let i = document.createElement("option"); i.setAttribute("value", e.index), i.innerHTML = e.innerHTML, void 0 !== i.children[0] && i.classList.add("italico"), t.appendChild(i) }) }); let s = document.createElement("div"); s.classList.add("col-12", "container-btn-feedback-complet-activity"); let p = document.createElement("hr"), m = document.createElement("div"); m.classList.add("text-center"); let u = document.createElement("a"); u.classList.add("btn", "btn-primary", "btn-lg", "btn-feedback-complet-activity", "mx-2"), u.setAttribute("href", "javascript:void(0)"), u.setAttribute("role", "button"), u.setAttribute("type", "button"), "en-us" == htmlLanguage ? u.innerHTML = "Answer" : u.innerHTML = "Responder", u.addEventListener("click", () => { let e = !0; o.querySelectorAll("select").forEach(t => { 0 == t.selectedIndex && (e = !1) }), e ? (o.querySelectorAll("select").forEach(e => { e.options[e.selectedIndex].text === r.find(t => t.index == e.dataset.referentialIndex).text ? e.classList.add("right-answer") : e.classList.add("wrong-answer"), e.disabled = !0 }), console.log(t), toggleCollapse(`feedback-complet-activity-${t}`)) : abrirAlerta("<p>Preencha todos os espaços vazios para visualizar a correção.</p>", this) }); let v = document.createElement("a"); v.classList.add("btn", "btn-primary", "btn-lg", "btn-clean-complet-activity", "mx-2"), v.setAttribute("href", "javascript:void(0)"), v.setAttribute("role", "button"), v.setAttribute("type", "button"), "en-us" == htmlLanguage ? v.innerHTML = "Reset" : v.innerHTML = "Limpar", v.addEventListener("click", () => { o.querySelectorAll("select").forEach((e, t) => { e.selectedIndex = 0, e.classList.remove("right-answer", "wrong-answer"), e.disabled = !1, e.querySelectorAll("option").forEach(e => { e.classList.remove("option-selected") }) }), document.querySelector(`#feedback-complet-activity-${t}.theme-simple-collapse`).classList.remove("opened") }); let h = document.createElement("div"); h.classList.add("row"); let b = document.createElement("div"); b.classList.add("col-12"); let y = document.createElement("div"); y.classList.add("theme-simple-collapse"), y.setAttribute("id", `feedback-complet-activity-${t}`), i.feedback = i.feedback.replace(/(\{\{activityContent\}\})/gim, i.content), i.feedback = i.feedback.replace(/(\<option\>)/gim, "<strong>"), i.feedback = i.feedback.replace(/(\<\/option\>)/gim, "</strong>"), y.innerHTML = i.feedback, a.appendChild(c), n.appendChild(a), d.appendChild(o), n.appendChild(d), s.appendChild(p), m.appendChild(u), m.appendChild(v), s.appendChild(m), n.appendChild(s), b.appendChild(y), h.appendChild(b), l.appendChild(n), l.appendChild(h), e.parentElement.replaceChild(l, e) };