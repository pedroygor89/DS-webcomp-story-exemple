function readFile(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.overrideMimeType&&e.overrideMimeType("text/plain"),e.send(null),e.responseText}function splitCSV(t,e){if(""==(t=t.replace(/^\s+|\s+$/g,"")))return null;var r=t.split(/,/,-1);for(var i in r)r[i]=r[i].replace(/^\s+|\s+$/g,"");for(;e&&r.length<e;)r.push("");return r}function lowerCaseArray(t){for(var e=0;e<t.length;e++)t[e]=t[e].toLowerCase()}String.prototype.startsWith||(String.prototype.startsWith=function(t){return 0==this.lastIndexOf(t,0)}),String.prototype.endsWith||(String.prototype.endsWith=function(t){var e=this.length-t.length;return!(e<0)&&-1!=this.indexOf(t,e)}),Row=function(t,e){this.table=t,this.array=e},Row.prototype.table,Row.prototype.array,Row.prototype.getColumn=function(t){return this.array[t]},Row.prototype.getField=function(t){var e=this.table.getFieldIndex(t);if(-1==e){var r=new Error;throw r.message="getField() unknown field name: <b>"+t+"</b>",r.inhibitLine=!0,r}return this.array[e]},Row.prototype.getArray=function(){return this.array},Row.prototype.getString=function(){return this.array.join(", ")},SimpleTable=function(t){var e;isAuxUrl(t)?(-1!=t.lastIndexOf(".csv")&&(t=t.substring(0,t.lastIndexOf(".csv"))),e=document.getElementById(t).value):e=readFile(t);var r=e.split(/\n|\r\n/);this.fields=splitCSV(r[0]),r.splice(0,1);var o=new Array;for(i in r){var n=splitCSV(r[i],this.fields.length);null!=n&&o.push(new Row(this,n))}this.rows=o},SimpleTable.prototype.fields,SimpleTable.prototype.rows,SimpleTable.prototype.getColumnCount=function(){return this.fields.length},SimpleTable.prototype.getFields=function(){return this.fields},SimpleTable.prototype.limitRows=function(t){this.rows.splice(t,this.rows.length-t)},SimpleTable.prototype.getFieldIndex=function(t){for(var e in this.fields)if(this.fields[e]==t)return e;return-1},SimpleTable.prototype.getRowCount=function(){return this.rows.length},SimpleTable.prototype.getRow=function(t){if(t<0||t>=this.rows.length)throw"Count of rows is "+this.rows.length+", but attempting to get row:"+t;return this.rows[t]},SimpleTable.prototype.toArray=function(){return this.rows},SimpleTable.prototype.convertToLowerCase=function(){lowerCaseArray(this.fields);for(var t=0;t<this.rows.length;t++)lowerCaseArray(this.rows[t].array)};