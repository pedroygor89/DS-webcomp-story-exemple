function FeedbackBuilder(){this.importCss()}FeedbackBuilder.prototype.importCss=function(){let e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",LIBS_PATH+"/css/feedback.min.css"),document.querySelector("head").appendChild(e)},FeedbackBuilder.prototype.render=function(e){this.starRatingBuilder(e),this.addCommentBuilder(e),this.feedbackCommentBuilder(e)},FeedbackBuilder.prototype.starRatingBuilder=function(e){e.querySelectorAll("star-rating").forEach(t=>{if(null!==t.getAttribute("for")&&""!==t.getAttribute("for")&&e.querySelector("#"+t.getAttribute("for"))){let d=t.getAttribute("for"),r=e.querySelector("#"+d),a=-1;"undefined"!=typeof storage&&void 0!==storage.videos&&(video=storage.videos.find(e=>e.url===r.getAttribute("src")),void 0!==video&&(r.dataset.videoId=video.id,video.rate>0&&(a=video.rate)));let o=document.createElement("div");o.classList.add("feedback");let i=document.createElement("div");i.classList.add("star-rating-stars"),i.setAttribute("data-for",d);for(let e=0;e<5;e++){let t=document.createElement("span");t.classList.add("far","fa-star","star-rating-star"),t.setAttribute("data-rating-level",e),t.addEventListener("click",(function(){let e=this.getAttribute("data-rating-level");this.parentElement.childNodes.forEach((function(t){t.getAttribute("data-rating-level")>e?(t.classList.remove("fas"),t.classList.add("far")):(t.classList.remove("far"),t.classList.add("fas"))}));let t=parseInt(e)+1;storage.sendRateVideo(r.getAttribute("src"),t,r)})),a-1>=e&&(t.classList.remove("far"),t.classList.add("fas")),i.appendChild(t)}o.appendChild(i),t.parentElement.replaceChild(o,t)}else console.warn("############"),console.warn(`####### ATENÇÃO: O elemento de classificação não possui definição de vídeo relacionado no index.html: ${t}.`),console.warn("############")})},FeedbackBuilder.prototype.addCommentBuilder=function(e){e.querySelectorAll("add-comment").forEach((t,d)=>{let r=document.createElement("div");r.classList.add("feedback");let a=document.createElement("span");a.classList.add("fas","fa-chevron-down","comment-open"),a.addEventListener("click",(function(){e.querySelector("#"+t.getAttribute("comment-area")).classList.toggle("comment-hidden"),this.classList.toggle("fa-chevron-down"),this.classList.toggle("fa-chevron-up")}));let o=document.createElement("span");o.classList.add("comment-dropdown-text"),o.appendChild(document.createTextNode(t.getAttribute("dropdown-text")||"Comente aqui")),a.appendChild(o),r.appendChild(a),t.parentElement.replaceChild(r,t)})},FeedbackBuilder.prototype.feedbackCommentBuilder=function(e){e.querySelectorAll("feedback-comment").forEach(t=>{if(null!==t.getAttribute("for")&&""!==t.getAttribute("for")&&e.querySelector("#"+t.getAttribute("for"))){let d=t.getAttribute("for"),r=e.querySelector("#"+d),a="";"undefined"!=typeof storage&&void 0!==storage.videos&&(video=storage.videos.find(e=>e.url===r.getAttribute("src")),void 0!==video&&"undefined"!==video.comment&&(a=video.comment));let o=document.createElement("div");o.classList.add("feedback");let i=document.createElement("div");i.classList.add("comment"),i.setAttribute("id",t.getAttribute("id"));let n=document.createElement("textarea");n.setAttribute("name","feedback"),n.classList.add("comment-textarea"),n.innerHTML=a;let s=document.createElement("button");s.classList.add("comment-send"),s.setAttribute("type","button"),s.addEventListener("click",(function(){let d=e.querySelector("#"+t.getAttribute("for"));storage.sendCommentVideo(d.getAttribute("src"),n.value,d)})),s.appendChild(document.createTextNode(t.getAttribute("button-text")||"Enviar feedback")),i.appendChild(document.createElement("br")),i.appendChild(n),i.appendChild(s),o.appendChild(i),t.parentElement.replaceChild(o,t)}else console.warn("############"),console.warn(`####### ATENÇÃO: A área de comentário não possui definição de vídeo relacionado no index.html: ${t}.`),console.warn("############")})};