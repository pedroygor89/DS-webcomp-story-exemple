function Menu(e){return this.render(e)}function changeHamburguerIcon(e,t){e.classList.toggle("show"),t&&(t.classList.toggle("fa-times"),t.classList.toggle("fa-bars"))}Menu.prototype.render=function(e){this.importCss();let t=document.createElement("div");t.classList.add("hamburguer");let n=document.createElement("span");n.classList.add("fas","fa-bars"),n.addEventListener("click",()=>{changeHamburguerIcon(i,n)}),t.appendChild(n);let i=document.createElement("div");i.classList.add("container-fluid","img_abertura","mt-5","hide"),i.setAttribute("id","mobile-navigation");let o=document.createElement("nav");o.classList.add("navbar","navbar-expand");let a=document.createElement("div");a.classList.add("collapse","navbar-collapse"),a.setAttribute("id","conteudoNavbarSuportado");let s=document.createElement("ul");return s.classList.add("navbar-nav","mr-auto"),document.querySelectorAll("[data-menu-item]").forEach(e=>{if(e.dataset.menuItem)if(e.dataset.menuTitle)if(e.getAttribute("id")){let t=this.buildMenuItem(e.dataset.menuTitle,e.getAttribute("id"),s);this.setLinkAction(t[0],i)}else console.warn("############"),console.warn(`####### ATENÇÃO: O elemento ${e} não possui id definido para o menu.`),console.warn("############");else console.warn("############"),console.warn(`####### ATENÇÃO: O elemento ${e} não possui título definido para o menu.`),console.warn("############")}),e.forEach(e=>{e.preItems.forEach(e=>{let t=this.buildMenuItem(e.title,e.id,s);this.setLinkAction(t[0],i)});let t=this.buildMenuItem(e.title,e.mainAnchor,s);if(e.locked){t[1].classList.add("modulo","module-locked");let n=document.createElement("span");n.classList.add("padlock","lock-"+e.mainAnchor);let i=document.createElement("i");i.classList.add("fas","fa-lock"),n.appendChild(i),t[1].insertBefore(n,t[0])}if(e.topics.length){t[1].classList.add("dropdown"),t[0].classList.add("dropdown-toggle"),t[0].setAttribute("id","navbarDropdown"),t[0].setAttribute("href","javascript:void(0)"),t[0].addEventListener("click",(function(){t[1].classList.toggle("show"),n.classList.toggle("show")})),document.addEventListener("click",(function(e){e.target!==t[0]&&(n.classList.remove("show"),t[1].classList.remove("show"))}));let n=document.createElement("div");n.classList.add("dropdown-menu"),n.setAttribute("aria-labelledby","navbarDropdown"),t[1].appendChild(n),e.topics.forEach(e=>{let t=document.createElement("a");t.classList.add("dropdown-item"),t.setAttribute("href","#"+e.id),t.innerHTML=e.title,n.append(t),t.addEventListener("click",(function(e){e.preventDefault();let t=document.querySelector(this.getAttribute("href")),n=document.querySelector("div.hamburguer");0===n.getBoundingClientRect().height&&(n=document.querySelector("#mobile-navigation"));let o=t.getBoundingClientRect().top+window.pageYOffset;o-=n.getBoundingClientRect().height,location.hash=this.getAttribute("href").replace("#",""),window.scroll(0,o),changeHamburguerIcon(i,n.querySelector("span"))}))})}else this.setLinkAction(t[0],i)}),i.appendChild(o),o.appendChild(a),a.appendChild(s),document.querySelector("header").appendChild(t),document.querySelector("header").appendChild(i),this.element=i,this.showMenu(),this},Menu.prototype.showMenu=function(){document.addEventListener("scroll",()=>{let e=window.innerHeight;window.scrollY>=e?this.element.classList.remove("hide"):this.element.classList.add("hide")})},Menu.prototype.importCss=function(){let e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",LIBS_PATH+"/css/menu.min.css"),document.querySelector("head").appendChild(e)},Menu.prototype.buildMenuItem=function(e,t,n){let i=document.createElement("li");i.classList.add("nav-item");let o=document.createElement("a");return o.classList.add("nav-link"),o.setAttribute("href","#"+t),o.innerHTML=e,i.appendChild(o),n.appendChild(i),[o,i]},Menu.prototype.setLinkAction=function(e,t){e.addEventListener("click",(function(){let e=document.querySelector(this.getAttribute("href")),n=document.querySelector("div.hamburguer");0===n.getBoundingClientRect().height&&(n=document.querySelector("#mobile-navigation"));let i=e.getBoundingClientRect().top+window.pageYOffset;i-=n.getBoundingClientRect().height,location.hash=this.getAttribute("href").replace("#",""),window.scroll(0,i),changeHamburguerIcon(t,n.querySelector("span"))}))};