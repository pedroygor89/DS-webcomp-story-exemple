const modalList=[];function Modal(e,t,a){a=a||!1,this.elementRef=this.create(e,t,a)}function Modal(e,t,a){a=a||!1,this.elementRef=this.create(e,t,a)}function abrirModal(e){modalList[e].open()}function fecharModal(e){modalList[e].close()}function abrirAlerta(e,t){let a=document.createElement("em-modal");a.setAttribute("name",`alert-${(new Date).getTime()}`),a.setAttribute("opened",!0),a.innerHTML=e,document.body.append(a),new Modal(a,t.parentElement,!0)}Modal.prototype.create=function(e,t,a){if(!e.getAttribute("name"))return void alert("Modal sem atributo name definido!");let n=this,d=document.createElement("div");d.classList.add("em-modal-background"),d.setAttribute("name",`modal-${e.getAttribute("name")}`),null===e.getAttribute("opened")&&d.classList.add("closed"),a?d.classList.add("alert"):(t.getAttribute("id")||t.setAttribute("id",`parent-modal-${e.getAttribute("name")}`),this.parentId=t.getAttribute("id")),d.addEventListener("click",function(e){e.target===this&&n.close()}),e.getAttribute("class")&&e.getAttribute("class").split(", ").forEach(e=>{d.classList.add(e)});let i=document.createElement("div");i.classList.add("em-modal-body"),document.createElement("div").classList.add("em-modal-head");let l=document.createElement("span");l.classList.add("em-modal-close-btn","fas","fa-times"),l.addEventListener("click",()=>this.close());let s=document.createElement("div");return s.classList.add("em-modal-content"),s.innerHTML=e.innerHTML,d.append(i),i.append(l),i.append(s),a?e.parentElement.replaceChild(d,e):e.remove(),d},Modal.prototype.close=function(){this.elementRef.classList.contains("alert")?this.elementRef.remove():this.elementRef.classList.add("closed"),this.elementRef.remove()},Modal.prototype.open=function(){this.elementRef.classList.remove("closed"),document.querySelector(`#${this.parentId}`).appendChild(this.elementRef)};