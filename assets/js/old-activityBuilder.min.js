function ActivityBuilder(e){this.render(e)}ActivityBuilder.prototype.render=function(e){e.querySelectorAll("activity").forEach((e,t)=>{e.getAttribute("id")&&(activity=completActivity[""+e.getAttribute("id")],"undefined"!=typeof activity&&this.buildCompletActivity(e,t,activity))})},ActivityBuilder.prototype.buildCompletActivity=function(e,t,i){let l=document.createElement("div");l.classList.add("container-complet-activity");let c=document.createElement("div");c.classList.add("row","justify-content-center","bg-light","rounded","p-5");let d=document.createElement("div");d.classList.add("col-12","col-md-3","complet-activity-options-container");let a=document.createElement("div");a.classList.add("text-center","text-light","border","rounded","p-3","complet-activity-options");let n=document.createElement("div");n.classList.add("col-12","col-md-9","rounded","p-3","text-dark","complet-activity-content");let o=document.createElement("form");o.innerHTML=i.content;let r=[];o.querySelectorAll("option").forEach((e,t)=>{let i=document.createElement("select");i.classList.add("form-control","custom-select","d-inline-flex","select-complet-activity"),i.dataset.referentialIndex=t,i.addEventListener("change",()=>{o.querySelectorAll(`option[value='${i.value}']`).forEach(e=>{e.classList.add("option-selected"),void 0!==e.children[0]?i.classList.add("italico"):i.classList.remove("italico")});let e=i.dataset.indexOption;i.dataset.indexOption=i.value,e&&(o.querySelector(`select[data-index-option='${e}']`)||o.querySelectorAll(`option[value='${e}']`).forEach(e=>{e.classList.remove("option-selected")}))});let l=document.createElement("option");l.setAttribute("valeu","empty"),l.setAttribute("disabled","disabled"),l.setAttribute("selected","selected"),l.innerHTML="----------",i.appendChild(l),e.parentElement.replaceChild(i,e),r.push({text:e.text,index:t,innerHTML:e.innerHTML})}),r.sort((function(e,t){return e.text.localeCompare(t.text)})),r.forEach(e=>{let t=document.createElement("p");t.classList.add("p-2","m-2","bg-secondary","rounded"),t.innerHTML=e.innerHTML,a.appendChild(t),o.querySelectorAll("select").forEach(t=>{let i=document.createElement("option");i.setAttribute("value",e.index),i.innerHTML=e.innerHTML,void 0!==i.children[0]&&i.classList.add("italico"),t.appendChild(i)})});let s=document.createElement("div");s.classList.add("col-12","container-btn-feedback-complet-activity");let p=document.createElement("hr"),m=document.createElement("div");m.classList.add("text-center");let u=document.createElement("a");u.classList.add("btn","btn-primary","btn-lg","btn-feedback-complet-activity","mx-2"),u.setAttribute("href","javascript:void(0)"),u.setAttribute("role","button"),u.setAttribute("type","button"),u.innerHTML="Responder",u.addEventListener("click",()=>{let e=!0;o.querySelectorAll("select").forEach(t=>{0==t.selectedIndex&&(e=!1)}),e?(o.querySelectorAll("select").forEach(e=>{e.options[e.selectedIndex].text===r.find(t=>t.index==e.dataset.referentialIndex).text?e.classList.add("right-answer"):e.classList.add("wrong-answer"),e.disabled=!0}),toggleCollapse("feedback-complet-activity-"+t)):abrirAlerta("<p>Preencha todos os espaços vazios para visualizar a correção.</p>",this)});let v=document.createElement("a");v.classList.add("btn","btn-primary","btn-lg","btn-clean-complet-activity","mx-2"),v.setAttribute("href","javascript:void(0)"),v.setAttribute("role","button"),v.setAttribute("type","button"),v.innerHTML="Limpar",v.addEventListener("click",()=>{o.querySelectorAll("select").forEach((e,t)=>{e.selectedIndex=0,e.classList.remove("right-answer","wrong-answer"),e.disabled=!1,e.querySelectorAll("option").forEach(e=>{e.classList.remove("option-selected")})}),document.querySelector(`#feedback-complet-activity-${t}.theme-simple-collapse`).classList.remove("opened")});let b=document.createElement("div");b.classList.add("row");let h=document.createElement("div");h.classList.add("col-12");let y=document.createElement("div");y.classList.add("theme-simple-collapse"),y.setAttribute("id","feedback-complet-activity-"+t),i.feedback=i.feedback.replace(/(\{\{activityContent\}\})/gim,i.content),i.feedback=i.feedback.replace(/(\<option\>)/gim,"<strong>"),i.feedback=i.feedback.replace(/(\<\/option\>)/gim,"</strong>"),y.innerHTML=i.feedback,d.appendChild(a),c.appendChild(d),n.appendChild(o),c.appendChild(n),s.appendChild(p),m.appendChild(u),m.appendChild(v),s.appendChild(m),c.appendChild(s),h.appendChild(y),b.appendChild(h),l.appendChild(c),l.appendChild(b),e.parentElement.replaceChild(l,e)};