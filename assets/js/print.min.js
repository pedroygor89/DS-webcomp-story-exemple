const pdfMake=document.createElement("script");pdfMake.setAttribute("src","../repositorio_joana_2019_3/js/pdfmake.min.js");const vfsFont=document.createElement("script");function saveReflexao(e){window.sessionbrowserStorage.getItem("reflexao");browserStorage.length&&(browserStorage=JSON.parse(browserStorage));let t=document.querySelector(`#${e} p.print`),o=document.querySelector(`#${e} textarea.print`);o.value.trim()?((i=browserStorage.findIndex(t=>t.id===e))>-1?browserStorage[i]={id:e,titulo:t.innerHTML,reflexao:o.value.trim()}:browserStorage.push({id:e,titulo:t.innerHTML,reflexao:o.value.trim()}),browserStorage=JSON.stringify(browserStorage),window.sessionbrowserStorage.setItem("reflexao",browserStorage),alert("Anotações salvas com sucesso!")):alert("Não foi feita nenhuma anotação")}function print(e,t,o,r){generatePDF(e,t,"",r)}function generatePDF(e,t,o,r){let _=window.sessionbrowserStorage.getItem("reflexao");_?_=JSON.parse(_):alert("Não há conteúdo a ser impresso");let a=[],n="_______________________________________________________________________________________";for(el of _)a.push({text:el.titulo,color:e||"#000000",fontSize:10}),a.push({text:[{text:"REFLEXÃO: ",color:e||"#000000"},el.reflexao],color:"#000000",margin:[0,20,0,0],fontSize:10}),a.push({text:n,margin:[0,0,0,10]});const s={content:[{...{fillColor:t||"#FFFFFF",margin:[-60,-20,-60,20],layout:"noBorders",table:{headerRows:1,widths:["*"],body:[[{alignment:"center",margin:10,width:100,text:r}]]}}},{text:"Suas reflexões",linha:n,fontSize:18,margin:[0,0,0,10],bold:!0},{text:n,margin:[0,0,0,20]},a],pageMargins:[60,20]};pdfMake.createPdf(s).print()}function toDataURL(e,t,o){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var e,r=document.createElement("CANVAS"),_=r.getContext("2d");r.height=this.naturalHeight,r.width=this.naturalWidth,_.drawImage(this,0,0),e=r.toDataURL(o),t(e)},r.src=e,(r.complete||void 0===r.complete)&&(r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",r.src=e)}vfsFont.setAttribute("src","../repositorio_joana_2019_3/js/vfs_fonts.js"),document.querySelector("head").append(pdfMake),document.querySelector("head").append(vfsFont);