function Theme(){this.modules=[],printVersion?this.renderPrintVersion():this.render()}Theme.prototype.render=function(){return"undefined"!=typeof scripts&&scripts.feedback&&(this.feedback=new FeedbackBuilder),document.querySelectorAll("module").forEach((e,t)=>{this.modules.push(new Module(e,t,this.feedback,this))}),"undefined"!=typeof scripts&&(scripts.menu&&(this.menu=new Menu(this.modules)),scripts.achievements&&(this.achievements=new Achievements(this.modules)),scripts.themeDefaultBar?this.themeDefaultBar=new ThemeDefaultBar(this.modules.filter(e=>"false"!==e.step)):scripts.themeProgressBar&&(this.themeProgressBar=new ThemeProgressBar(this.modules.filter(e=>"false"!==e.step)))),this.modules.forEach(e=>{e.recoveredQuestions&&e.recoveredQuestions.forEach(e=>{e.click()})}),window.addEventListener("hashchange",function(e){let t=document.querySelector(`${location.hash}`);if(t){let e=t.getBoundingClientRect().top+window.pageYOffset;e-=getMenuSize(),e-=50,window.scroll(0,e)}}),this},Theme.prototype.unlockModule=function(e,t){let s=parseInt(e.dataset.referentialIndex),i=s+1;this.modules[i]&&this.modules[i].locked&&(this.modules[i].unlock(this),this.modules[s].element.querySelector(".unlock-hide")&&this.modules[s].element.querySelectorAll(".unlock-hide").forEach(e=>{e.classList.add("hidden")}),this.modules[s].element.querySelector(".unlock-show")&&this.modules[s].element.querySelectorAll(".unlock-show").forEach(e=>{e.classList.remove("hidden")})),void 0===t&&this.modules[s].achievement&&this.achievements.startAnimation(this.modules[s].achievement,this.modules[i].title+" Desbloqueado"),this.themeDefaultBar&&this.themeDefaultBar.activateAnimation(s,this.modules.filter(e=>"false"!==e.step))},Theme.prototype.renderPrintVersion=function(){document.querySelectorAll("[style]").forEach(e=>{e.removeAttribute("style")}),document.querySelectorAll(".no-print-get-title").forEach(e=>{let t=e.getAttribute("title");if(t){let s=document.createElement("p");s.classList.add("title-from-img"),s.innerHTML=t,e.parentElement.replaceChild(s,e)}}),document.querySelectorAll("module").forEach((e,t)=>{"true"===e.dataset.locked&&e.dataset.locked,this.modules.push(new Module(e,t))})},Theme.prototype.validateIds=function(){prodEnv||(this.validateQuestions(),this.validateVideos())},Theme.prototype.validateQuestions=function(){let e={question:"\n------Questões:",answer:"\n------Alternativas:",ids:"\n------Elementos com id repetido (DEVEM SER ALTERADOS!!):"},t=[],s=!1;for(q in this.contMissingIds=0,questions){questions[q].questions.forEach((i,o)=>{i.uuid&&isUUID(i.uuid)?t.includes(i.uuid)?(s=!0,e.ids+=`\n${o+1}ª questão em ${q}`,this.contMissingIds++):t.push(i.uuid):(s=!0,e.question+=`\n${o+1}ª questão em ${q}`,this.contMissingIds++),i.answers.forEach((i,n)=>{i.uuid&&isUUID(i.uuid)?t.includes(i.uuid)?(s=!0,e.ids+=`\n${n+1}ª alternativa da ${o+1}ª questão em ${q}`,this.contMissingIds++):t.push(i.uuid):(s=!0,e.answer+=`\n${n+1}ª alternativa da ${o+1}ª questão em ${q}`,this.contMissingIds++)})})}s&&alert(`Problemas de id em:${e.question}${e.answer}${e.ids}`)},Theme.prototype.validateVideos=function(){let e="";document.querySelectorAll("iframe").forEach(t=>{t.getAttribute("id")&&document.querySelectorAll(`#${t.getAttribute("id")}`).length>1&&(e+=`${t.getAttribute("id")}\n`)}),""!==e&&alert(`ATENÇÃO! Os seguintes ids de iframe estão sendo repetidos:\n${e}`)},Theme.prototype.updateProgress=function(){"undefined"!=typeof storage&&void 0!==storage.progress&&null!==storage.progress&&null!==document.querySelector(`#${storage.progress}`)&&window.scroll(0,document.querySelector(`#${storage.progress}`).offset().top-(getMenuSize()+30))};var theme=new Theme;