function ThemeProgressBar(e){this.steps=[],this.render(e),this.getWinHeight(),window.addEventListener("resize",(function(){theme.themeProgressBar.getWinHeight()}),!1)}ThemeProgressBar.prototype.render=function(e){let t=[];e.forEach((e,r)=>{let s={},o=document.createElement("div");o.classList.add("theme-progress-fill");let n=document.createElement("div");n.setAttribute("data-referential-index",r),n.classList.add("theme-progress-step"),n.append(o),t.push(n),s.element=n,s.initialPercentage=0,s.actualPercentage=0,s.observer=this.createObserver(),s.observer.observe(e.element),this.steps.push(s)}),t.length>0?(this.importCss(),this.buildStructure(t)):(console.warn("############"),console.warn("####### ATENÇÃO: Não foram definidas estapas de progresso no arquivo index.html"),console.warn("############")),this.actualStep=parseInt(e[0].element.dataset.referentialIndex),this.setBubbleSpanContent(e[0].step,this.actualStep),window.addEventListener("scroll",(function(){theme.themeProgressBar.scrollActions()}),!1)},ThemeProgressBar.prototype.importCss=function(){let e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",LIBS_PATH+"/css/themeProgressBar.min.css"),document.querySelector("head").appendChild(e)},ThemeProgressBar.prototype.buildStructure=function(e){let t=document.createElement("div");t.classList.add("theme-progress");let r=document.createElement("div");r.classList.add("theme-progress-bar");let s=document.createElement("span");s.classList.add("fas","fa-search");let o=document.createElement("div");o.classList.add("theme-progress-step-bubble"),o.append(s),r.appendChild(o),e.forEach(e=>{r.appendChild(e)}),t.appendChild(r),document.querySelector("body").appendChild(t)},ThemeProgressBar.prototype.createObserver=function(){let e={rootMargin:"0px",threshold:this.buildThresholdList(20)};return new IntersectionObserver(this.handleIntersect,e)},ThemeProgressBar.prototype.buildThresholdList=function(){let e=[];for(let t=0;t<=1;t+=.01)e.push(t);return e.push(1),e},ThemeProgressBar.prototype.handleIntersect=function(e){e.forEach(e=>{if(e.isIntersecting){let t=parseInt(e.target.dataset.referentialIndex);theme.themeProgressBar.actualStep<t&&(theme.themeProgressBar.actualStep=t,theme.themeProgressBar.steps[t].initialPercentage=theme.themeProgressBar.amountScrolled(),theme.themeProgressBar.setPercentageProperty(theme.themeProgressBar.steps[t-1],100),theme.themeProgressBar.bubbleStepActions(t))}})},ThemeProgressBar.prototype.scrollActions=function(){let e=this.amountScrolled(),t=parseInt(theme.themeProgressBar.actualStep),r=this.steps[t];r.initialPercentage<e&&r.actualPercentage<e&&(r.actualPercentage=e,this.setPercentageProperty(r,this.calculatePercentage(r).toFixed(2))),theme.themeProgressBar.steps.length===t+1&&e>99&&theme.themeProgressBar.bubbleStepActions(t+1)},ThemeProgressBar.prototype.calculatePercentage=function(e){let t=100-e.initialPercentage,r=100-e.actualPercentage;return 100-percent(r,t)},ThemeProgressBar.prototype.setPercentageProperty=function(e,t){e.element.style.setProperty("--theme-progress-completion-percentage",t+"%")},ThemeProgressBar.prototype.bubbleStepActions=function(e){let t=document.querySelector(".theme-progress-bar .theme-progress-step-bubble");if(t){if(window.innerWidth>1024){let r=t.parentElement.querySelector(".theme-progress-step").getBoundingClientRect().height*e;t.style.setProperty("transform",`translateY(${r}px)`)}else{let r=t.parentElement.querySelector(".theme-progress-step").getBoundingClientRect().width*e;t.style.setProperty("transform",`translateX(${r}px)`)}e<theme.modules.length?theme.themeProgressBar.setBubbleSpanContent(theme.modules[e].step,e,t):t.classList.add("concluded")}},ThemeProgressBar.prototype.getDocHeight=function(){var e=document;return Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)},ThemeProgressBar.prototype.amountScrolled=function(){let e=this.getDocHeight(),t=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,r=e-this.winHeight;return Math.floor(t/r*100)},ThemeProgressBar.prototype.getWinHeight=function(){this.winHeight=window.innerHeight||(document.documentElement||document.body).clientHeight},ThemeProgressBar.prototype.setBubbleSpanContent=function(e,t,r){let s=document.createElement("span");e.icon?(e.collection?s.classList.add(e.collection):s.classList.add("fas"),s.classList.add(e.icon)):s.innerHTML=t+1,r||(r=document.querySelector(".theme-progress-bar .theme-progress-step-bubble")),r.replaceChild(s,r.querySelector("span"))};